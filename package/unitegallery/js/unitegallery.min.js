// Unite Gallery, Version: 1.1.6, released 29 Dec 2014 

function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var i,n=this,r=(jQuery(n),new UniteGalleryMain);r=e,i=jQuery(e),this.on=function(e,n){switch(e){case"item_change":i.on(r.events.ITEM_CHANGE,function(){var e=r.getSelectedItem(),i=t(e);n(i.index,i)});break;case"resize":i.on(r.events.SIZE_CHANGE,n);break;case"enter_fullscreen":i.on(r.events.ENTER_FULLSCREEN,n);break;case"exit_fullscreen":i.on(r.events.EXIT_FULLSCREEN,n);break;case"play":i.on(r.events.START_PLAY,n);break;case"stop":i.on(r.events.STOP_PLAY,n);break;case"pause":i.on(r.events.PAUSE_PLAYING,n);break;case"continue":i.on(r.events.CONTINUE_PLAYING,n);break;default:console&&console.log("wrong api event: "+e)}},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();return e?void e.zoomBack():!1},this.zoomIn=function(){var e=r.getObjSlider();return e?void e.zoomIn():!1},this.zoomOut=function(){var e=r.getObjSlider();return e?void e.zoomOut():!1},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){var i=r.getItem(e),n=t(i);return n},this.getNumItems=function(){var e=r.getNumItems();return e}}function UGAviaControl(){function e(e){return 0==p?e.pageX:e.pageY}function t(){jQuery("body").on("touchstart",function(){return 0==m.isControlEnabled?!0:void(m.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==m.isControlEnabled)return!0;if(1==m.touchEnabled)return jQuery("body").off("mousemove"),!0;m.isMouseInsideStrip=g.ismouseover();var i=u.isTouchMotionActive();if(1==m.isMouseInsideStrip&&0==i){var n=e(t);l(n)}else o()})}function i(e){var t=g.height(),i=c.height();if(t>i)return!1;var n=g.offset(),r=n.top,a=e-r,o=h.thumb_height,s=t-h.thumb_height,l=s-o;o>a&&(a=o),a>s&&(a=s);var u=(a-o)/l,d=(i-t)*u;return d=Math.round(d),d=-1*d}function n(e){var t=g.width(),i=c.width();if(t>i)return!1;var n=g.offset(),r=n.left,a=e-r,o=h.thumb_width,s=t-h.thumb_width,l=s-o;o>a&&(a=o),a>s&&(a=s);var u=(a-o)/l,d=(i-t)*u;return d=Math.round(d),d=-1*d}function r(){if(0==m.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(m.strip_finalPos)&&o();var t,i=Math.abs(Math.abs(m.strip_finalPos)-Math.abs(e));1>i?t=i:(t=i/4,t>0&&1>t&&(t=1)),m.strip_finalPos<e&&(t=-1*t);var n=e+t;u.positionInnerStrip(n)}function a(){return 1==m.isStripMoving?!1:(m.isStripMoving=!0,void(m.handle_timeout=setInterval(r,10)))}function o(){return 0==m.isStripMoving?!1:(m.isStripMoving=!1,void(m.handle_timeout=clearInterval(m.handle_timeout)))}function s(e){return 0==p?n(e):i(e)}function l(e){var t=s(e);m.is_strip_moving=!0,m.strip_finalPos=t,a()}var u,d,_,g,c,h,p,m={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){m.isControlEnabled=!0},this.disable=function(){m.isControlEnabled=!1},this.init=function(e){u=e,_=e.getObjects(),d=_.g_gallery,g=_.g_objStrip,c=_.g_objStripInner,h=_.g_options,p=_.isVertical,t()}}function debugLine(e,t,i){e===!0&&(e="true"),e===!1&&(e="false");var n=e;if("object"==typeof e){n="";for(name in e){var r=e[name];n+=" "+name+": "+r}}if(1!=t||i||(n+=" "+Math.random()),1==i){var a=jQuery("#debug_line");a.width(200),a.height()>=500&&a.html("");var o=a.html();n=o+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,timeCache:{},lastEventType:"",lastEventTime:0};this.z__________FULL_SCREEN___________=function(){},this.normalizePercent=function(e){return 0>e&&(e=0),e>1&&(e=1),e},this.toFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.webkitRequestFullscreen)return!1;e.webkitRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.webkitExitFullscreen)return!1;document.webkitExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){e("fullscreenchange",document,t),e("mozfullscreenchange",document,t),e("webkitfullscreenchange",document,t),e("msfullscreenchange",document,t)},this.getFullScreenElement=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return e},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e||(e=!1),e},this.z__________END_FULL_SCREEN___________=function(){},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],i=document.createElement("div");for(var n in e){var r=e[n];if(r+"Transform"in i.style)return r=r.toLowerCase(),t=r,r}return t="",""},this.getImageInsideParentDataByImage=function(e,t){var n=e.parent(),r=i.getImageOriginalSize(e),a=i.getImageInsideParentData(n,r.width,r.height,t);return a},this.getImageInsideParentData=function(e,t,i,n){var r={},a=e.width(),o=e.height(),s=null,l="100%",u=null,d=null,_="display:block;margin:0px auto;";if(t>0&&i>0){if("down"==n&&a>t&&o>i)l=i,s=t,d=(a-s)/2,u=(o-l)/2;else if("fill"==n){var g=t/i;l=o,s=l*g,a>s?(s=a,l=s/g,d=0,u=Math.round((l-o)/2*-1)):(u=0,d=Math.round((s-a)/2*-1))}else{var g=t/i;l=o,s=l*g,u=0,d=(a-s)/2,s>a&&(s=a,l=s/g,d=0,u=(o-l)/2)}s=Math.floor(s),l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),_="position:absolute;"}return r.imageWidth=s,r.imageHeight=l,r.imageTop=u,r.imageLeft=d,r.imageRight=d+s,r.imageBottom=u+l,r.style=_,r},this.getElementCenterPosition=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t),a={};return a.left=Math.round((r.width-n.width)/2),a.top=Math.round((r.height-n.height)/2),a},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var n=i.getElementSize(e),r={};return r.x=n.width/2,r.y=n.height/2,1==t&&(r.x+=n.left,r.y+=n.top),r.x=Math.round(r.x),r.y=Math.round(r.y),r},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY},r=i.getElementLocalPoint(n,t);return r},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e){var t=e[0],i={};return i.width=t.naturalWidth,i.height=t.naturalHeight,i},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e),n=i.getElementSize(e),r=n.width/t.width;return r},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width<=r.width&&n.height<=r.height?!0:!1},this.getElementSize=function(e){var t=e.position();if(void 0==t)throw new Error("Can't get size, empty element");return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width>r.width||n.height>r.height?!0:!1},this.isPointInsideElement=function(e,t){var i=e.x>=0&&e.x<t.width;if(0==i)return!1;var n=e.y>=0&&e.y<t.height;return 0==n?!1:!0},this.getElementRelativePos=function(e,t,n){var r=e.parent(),a=i.getElementSize(e),o=i.getElementSize(r);switch(t){case"top":case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((o.width-a.width)/2),n&&(t+=n);break;case"right":t=o.width-a.width,n&&(t-=n);break;case"middle":t=Math.round((o.height-a.height)/2),n&&(t+=n);break;case"bottom":t=o.height-a.height,n&&(t-=n)}return t},this.z__________END_GET_PROPS___________=function(){},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,r,a,o){if(!n)var n=1.2;if(!a)var a="fit";var s,l,u,d,_=n,g=e.parent(),c=i.getElementSize(e),h=i.getImageOriginalSize(e),p=!1,m=0,f=0,v=0,b=0;if(r){var y=i.getMouseElementPoint(r,e);p=i.isPointInsideElement(y,c),v=y.x,b=y.y}else p=!1;if(0==p){var I=i.getElementCenterPoint(e);v=I.x,b=I.y}if(1==t)s=c.height*_,l=c.width*_,0!=v&&(m=-(v*_-v)),0!=b&&(f=-(b*_-b));else{s=c.height/_,l=c.width/_;var w=i.getImageInsideParentData(g,h.width,h.height);if(l<w.imageWidth)return i.scaleImageFitParent(e,h.width,h.height,a),!0;1==p&&(0!=v&&(m=-(v/_-v)),0!=b&&(f=-(b/_-b)))}if(o){var P=1;if(0!=h.width&&(P=l/h.width),P>o)return!1}if(i.setElementSize(e,l,s),0==t&&0==p){var S=i.getElementCenterPosition(e);u=S.left,d=S.top}else u=c.left+m,d=c.top+f;return i.placeElement(e,u,d),!0},this.placeElement=function(e,t,n,r,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n))var o=e.parent(),s=i.getElementSize(e),l=i.getElementSize(o);if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,r&&(t+=r);break;case"center":t=Math.round((l.width-s.width)/2),r&&(t+=r);break;case"right":t=l.width-s.width,r&&(t-=r)}if(0==jQuery.isNumeric(n))switch(n){case"top":n=0,a&&(n+=a);break;case"middle":case"center":n=Math.round((l.height-s.height)/2),a&&(n+=a);break;case"bottom":n=l.height-s.height,a&&(n-=a)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==n&&(u.top=n),e.css(u)},this.placeElementInParentCenter=function(e){i.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){var a={width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(a)},this.setElementSize=function(e,t,i){var n={width:t+"px",height:i+"px"};e.css(n)},this.placeImageInsideParent=function(e,t,n,r,a){var o=i.getImageInsideParentData(t,n,r,a),s="<img";null!==o.imageWidth&&(s+=" width = '"+o.imageWidth+"'",o.style+="width:"+o.imageWidth+";"),null!=o.imageHeight&&("100%"==o.imageHeight?(s+=" height = '"+o.imageHeight+"'",o.style+="height:"+o.imageHeight+";"):(s+=" height = '"+o.imageHeight+"'",o.style+="height:"+o.imageHeight+"px;")),null!==o.imageTop&&(o.style+="top:"+o.imageTop+"px;"),null!==o.imageLeft&&(o.style+="left:"+o.imageLeft+"px;"),s+=" style='"+o.style+"'",s+=" src='"+e+"'",s+=">",t.html(s);var l=t.children("img");return l},this.scaleImageCoverParent=function(e,t){var i=t.outerWidth(),n=t.outerHeight(),r=e.outerWidth(),a=e.outerHeight(),o=r/a,s=n,l=s*o,u=0,d=0;i>l?(l=i,s=l/o,d=0,u=Math.round((s-n)/2*-1)):(u=0,d=Math.round((l-i)/2*-1)),l=Math.round(l),s=Math.round(s),e.css({width:l+"px",height:s+"px",left:d+"px",top:u+"px"})},this.scaleImageFitParent=function(e,t,n,r){var a=e.parent(),o=i.getImageInsideParentData(a,t,n,r),s=!1,l={};null!==o.imageWidth&&(e.removeAttr("width"),e.width(o.imageWidth)),null!=o.imageHeight&&(e.removeAttr("height"),e.height(o.imageHeight)),null!==o.imageTop&&(s=!0,l.top=o.imageTop+"px"),null!==o.imageLeft&&(s=!0,l.left=o.imageLeft+"px"),1==s&&(l.position="absolute",l.margin="0px 0px",e.css(l))},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________END_SET_ELEMENT_PROPS_______=function(){},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==i.isButtonDisabled(e,t)&&e.addClass(t)},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==i.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return e.hasClass(t)?!0:!1},this.z_________END_GALLERY_RELATED_FUNCTIONS_______=function(){},this.z_________GENERAL_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,a){if(!a)var a=!1;var o=(r-i)/(n-i);return r=e+(t-e)*o,1==a&&(e>r&&(r=e),r>t&&(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){var a=(r-e)/(t-e);return r=e+(n-i)*a},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.getDistance=function(e,t,i,n){var r=Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))));return r},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){var e=jQuery.now(),t=e-n.starTime;debugLine({"Time Passed":t},!0)},this.isCanvasExists=function(){var e=jQuery('<canvas width="500" height="500" > </canvas>')[0];return"function"==typeof e.getContext?!0:!1},this.initProgressIndicator=function(e,t,n){switch("bar"!=e&&0==i.isCanvasExists()&&(e="bar"),e){case"bar":var r=new UGProgressBar;r.putHidden(n,t);break;default:case"pie":var r=new UGProgressPie;r.putHidden(n,t);break;case"pie2":t.type_fill=!0;var r=new UGProgressPie;r.putHidden(n,t)}return r},this.setButtonMobileReady=function(e){e.on("touchstart",function(){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,n.arrThemes)?!0:!1},this.getFirstRegisteredTheme=function(){if(0==n.arrThemes.length)return"";var e=n.arrThemes[0];return e},this.isTouchDevice=function(){if(-1!==n.isTouchDevice)return n.isTouchDevice;try{document.createEvent("TouchEvent"),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isTimePassed=function(e){var t=jQuery.now();lastTime=0==n.timeCache.hasOwnProperty(e)?0:n.timeCache[e];var i=t-lastTime;return n.timeCache[e]=t,100>=i?!1:!0},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return"click"==e&&"touchstart"==n.lastEventType&&1e3>i&&(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type)?!0:void t(objThis,e)})},this.loadJs=function(e,t){t===!0&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){t===!0&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){"undefined"!=typeof e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function ugCheckForErrors(e,t){if("function"==typeof jQuery.fn.unitegallery)return!0;var i="Unite Gallery Error: You have some jquery.js library include that comes after the gallery files js include.";return i+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(i+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",i+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):i+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",i="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+i+"</div>",jQuery(e).show().html(i),!1}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objParams){if(objParams.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objParams.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,g_temp.objCustomOptions)}function runGallery(e,i){if(g_temp.objCustomOptions=i,g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;var n=g_objWrapper.children();fillItemsArray(n),loadAPIs(),g_objWrapper.children("img").fadeTo(0,0).hide(),g_objWrapper.show(),initTheme(i),g_options=jQuery.extend(g_options,i),modifyInitParams(i),validateParams(),clearInitData(),setGalleryHtml(),setHtmlObjectsProperties(),1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode()}function showErrorMessage(e){e="<b>Gallery Error: </b>"+e;var t="<div class='ug-error-message'>"+e+"</div>";g_objWrapper.children().remove(),g_objWrapper.width(g_options.gallery_width),g_objWrapper.height(g_options.gallery_height),g_objWrapper.css("border","1px solid black"),g_objWrapper.html(t),g_objWrapper.show()}function modifyInitParams(e){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),void 0==e.gallery_min_height&&g_options.gallery_height<g_options.gallery_min_height&&(g_options.gallery_min_height=0),void 0==e.gallery_min_width&&g_options.gallery_width<g_options.gallery_min_width&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper")}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize(),i=e.width/e.height;if(i!=e.orig_ratio){var n=e.width/e.orig_ratio;n=Math.round(n),n<g_options.gallery_min_height&&(n=g_options.gallery_min_height),g_objWrapper.height(n)}}function setHtmlObjectsProperties(){var e={"max-width":g_options.gallery_width+"px","min-width":g_options.gallery_min_width+"px",height:g_options.gallery_height+"px"};g_options.gallery_background_color&&(e["background-color"]=g_options.gallery_background_color),g_objWrapper.css(e)}function fillItemsArray(e){for(var t=0;t<e.length;t++){var i=jQuery(e[t]),n=i.data("type");void 0==n&&(n="image");var r=i.prop("tagName").toLowerCase(),a={};if(a.index=t,a.type=n,"img"==r)a.urlThumb=i.attr("src"),a.title=i.attr("alt"),a.objThumbImage=i;else{if("image"==n)throw new Error("The item should not be image type");a.urlThumb=i.data("thumb"),a.title=i.data("title"),a.objThumbImage=null}a.description=i.data("description"),a.description||(a.description=""),a.isLoaded=!1,a.isThumbImageLoaded=!1,a.objPreloadImage=null,a.urlImage=i.data("image"),a.isBigImageLoadStarted=!1,a.isBigImageLoaded=!1,a.isBigImageLoadError=!1,a.imageWidth=0,a.imageHeight=0;var o=void 0==a.urlImage||""==a.urlImage,s=void 0==a.urlThumb||""==a.urlThumb;switch(a.type){case"youtube":if(a.videoid=i.data("videoid"),o||s){var l=g_ugYoutubeAPI.getVideoImages(a.videoid);o&&(a.urlImage=l.preview),s&&(a.urlThumb=l.thumb,"img"==r&&i.attr("src",a.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":a.videoid=i.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":a.videoogv=i.data("videoogv"),a.videowebm=i.data("videowebm"),a.videomp4=i.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":a.trackid=i.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":a.videoid=i.data("videoid"),g_temp.isWistiaPresent=!0}g_arrItems.push(a)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this,t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":var t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;return""==i||void 0==i?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this),i=e.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoadError=!0,n.isBigImageLoaded=!1;var r=jQuery(this).attr("src");console.log("Can't load image: "+r),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,n.urlImage]),n.objThumbImage.attr("src",n.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i>0&&preloadItemImage(g_arrItems[i]),g_numItems>n&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onGalleryMouseWheel(e,i){e.preventDefault(),i>0?t.prevItem():t.nextItem()}function onSliderMouseEnter(){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.continuePlaying()}function onKeyPress(e){var i=e.altKey,n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;case 102:i&&t.toFullScreen();break;case 112:i&&t.togglePlayMode()}}function onGalleryResized(){var e=t.getSize();(e.width!=g_temp.lastWidth||e.height!=g_temp.lastHeight)&&(1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE))}function onThumbsChange(){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN;e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),onGalleryResized()}function onItemImageUpdated(e,i){var n=t.getItem(i);checkPreloadItemImage(n)}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if(1==g_options.gallery_control_thumbs_mousewheel&&g_objWrapper.on("mousewheel",onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(onGalleryResized),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){var e=g_objSlider.getElement();e.hover(onSliderMouseEnter,onSliderMouseLeave)}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END)}1==g_options.gallery_control_keyboard&&jQuery("body").keypress(onKeyPress)}function __________GENERAL_______(){}function retriggerEvent(e,t,i){jQuery(e).on(t,function(){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=i,g_temp.playTimeLastStep=e,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem?!0:(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function __________END_GENERAL_______(){}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objStrip,g_objStripInner,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme;this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:400,gallery_min_height:300,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_control_thumbs_mousewheel:!1,gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_debug_errors:!1,gallery_background_color:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,lastWidth:0,lastHeigh:0,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.initThumbsPanel=function(e,i){if(!i)var i={};if(!e)var e="strip";switch(g_temp.thumbsType=e,e){case"strip":g_objThumbs=new UGThumbsStrip;break;case"grid":g_objThumbs=new UGThumbsGrid;break;default:throw new Error("Wrong thumbs type: "+e)}i=jQuery.extend(i,g_temp.objCustomOptions),g_objThumbs.init(t,i)},this.initSlider=function(e){if(!e)var e={};e=jQuery.extend(e,g_temp.objCustomOptions),g_objSlider=new UGSlider,g_objSlider.init(t,e)},this.getObjects=function(){var e={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objStrip:g_objStrip,g_objStripInner:g_objStripInner,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return e},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0>e)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){var e=t.getSize();return e.width},this.getHeight=function(){var e=t.getSize();return e.height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){var e=g_galleryID.replace("#","");return e},this.getNextItem=function(e){"object"==typeof e&&(e=e.index);var t=e+1;if(1==g_numItems)return null;if(t>=g_numItems){if(1!=g_options.gallery_carousel)return null;t=0}var i=g_arrItems[t];return i},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(0>t){if(1!=g_options.gallery_carousel)return null;t=g_numItems-1}var i=g_arrItems[t];return i},this.getSelectedItem=function(){return g_selectedItem},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1?!0:!1},this.isFirstItem=function(){return 0==g_selectedItemIndex?!0:!1},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();
g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY)},this.resetPlaying=function(){return 0==g_temp.isPlayMode?!0:(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var e=g_temp.objProgress.getElement();e.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________END_PLAY_MODE___________=function(){},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e){"number"==typeof e&&(e=t.getItem(e));var i=e.index;return i==g_selectedItemIndex?!0:(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=i,1==g_temp.isPlayMode&&t.resetPlaying(),void g_objGallery.trigger(t.events.ITEM_CHANGE))},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems?!0:0==g_options.gallery_carousel&&e>=g_numItems?!0:(e>=g_numItems&&(e=0),void t.selectItem(e))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems?!0:0==g_options.gallery_carousel&&0>e?!0:(0>e&&(e=g_numItems-1),void t.selectItem(e))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen?!0:1==g_functions.isFullScreen()?!0:!1},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){var e=g_objWrapper.get(0),t=g_functions.toFullscreen(e);0==t&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||i===!0||onGalleryResized()},this.run=function(e,t){g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(i){if("object"==typeof i){{var n=i,r=i.lineNumber,a=i.fileName;i.stack}n+=" <br><br> in file: "+a,n+=" <b> line "+r+"</b>",trace(i)}else var n=i;n=n.replace("Error:",""),showErrorMessage(n)}else runGallery(e,t)}}function UGGridPanel(){function e(e,i){j=e,t(),i&&i.vertical_scroll&&(M.gridpanel_vertical_scroll=i.vertical_scroll),M=jQuery.extend(M,i),1==O.isHorType?(M=jQuery.extend(M,z),M=jQuery.extend(M,i)):1==M.gridpanel_vertical_scroll&&(M=jQuery.extend(M,k),M=jQuery.extend(M,i),M.grid_panes_direction="bottom");var n=j.getOptions(),r=n.gallery_skin;""==M.gridpanel_arrows_skin&&(M.gridpanel_arrows_skin=r);var a=e.getObjects();I=a.g_objWrapper,A.init(j,O,E,M,T)}function t(){if(null==O.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){t(),a(),C.run(),l(),u(),y(),d()}function n(){I.append("<div class='ug-grid-panel'></div>"),w=I.children(".ug-grid-panel"),O.isHorType?(w.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),S=w.children(".grid-arrow-left-hortype"),P=w.children(".grid-arrow-right-hortype")):0==M.gridpanel_vertical_scroll?(w.append("<div class='grid-arrow grid-arrow-left ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-right ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),S=w.children(".grid-arrow-left"),P=w.children(".grid-arrow-right")):(w.append("<div class='grid-arrow grid-arrow-up ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-down ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),S=w.children(".grid-arrow-up"),P=w.children(".grid-arrow-down")),A.setHtml(w),S.fadeTo(0,0),P.fadeTo(0,0),M.parent_container=w,j.initThumbsPanel("grid",M);var e=j.getObjects();C=e.g_objThumbs,r()}function r(){""!=M.gridpanel_background_color&&w.css("background-color",M.gridpanel_background_color)}function a(){"center"==M.gridpanel_grid_align&&(M.gridpanel_grid_align="middle")}function o(){var e=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=O.panelHeight-e;if(0==M.gridpanel_arrows_always_on){var i=C.getNumPanesEstimationByHeight(t);if(1==i)return t}var n=x.getElementSize(P),r=n.height,e=r+M.gridpanel_arrows_padding_vert;return 1==M.gridpanel_vertical_scroll&&(e*=2),e+=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=O.panelHeight-e}function s(){var e=M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,t=O.panelWidth-e;if(0==M.gridpanel_arrows_always_on){var i=C.getNumPanesEstimationByWidth(t);if(1==i)return t}var n=x.getElementSize(P),r=n.width;return e+=2*(r+M.gridpanel_arrows_padding_hor),t=O.panelWidth-e}function l(){var e=!1;if(1==M.gridpanel_arrows_always_on)e=!0;else{var t=C.getNumPanes();t>1&&(e=!0)}1==e?(P.show().fadeTo(0,1),S.show().fadeTo(0,1),O.arrowsVisible=!0):(P.hide(),S.hide(),O.arrowsVisible=!1)}function u(){var e=C.getSize();1==O.isHorType?O.panelHeight=e.height+M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom:O.panelWidth=e.width+M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,x.setElementSize(w,O.panelWidth,O.panelHeight)}function d(){return 1==O.isEventsInited?!1:(O.isEventsInited=!0,S&&(x.addClassOnHover(S),C.setPrevPaneButton(S)),P&&(x.addClassOnHover(P),C.setNextPaneButton(P)),void A.initEvents())}function _(){var e=M.gridpanel_padding_border_left;return e}function g(){var e=M.gridpanel_grid_align,t=0;switch(e){case"top":t=M.gridpanel_padding_border_top;break;case"bottom":t=M.gridpanel_padding_border_bottom}var i=_(),n=C.getElement();x.placeElement(n,i,e,0,t)}function c(){var e,t,i,n,r=x.getElementSize(S),a=C.getSize();switch(M.gridpanel_grid_align){default:case"top":e=M.gridpanel_padding_border_top+r.height+M.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=O.panelHeight-a.height-r.height-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert}var o=_(),s=C.getElement();x.placeElement(s,o,e);var a=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(a.top-r.height)/2,i=a.bottom+(O.panelHeight-a.bottom-r.height)/2,n=0;break;case"grid":t=a.top-r.height-M.gridpanel_arrows_padding_vert_vert,i=a.bottom+M.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=M.gridpanel_padding_border_top,i="bottom",n=M.gridpanel_padding_border_bottom}x.placeElement(S,"center",t),x.placeElement(P,"center",i,0,n)}function h(){1==O.arrowsVisible?c():g()}function p(){var e,t,i,n,r=x.getElementSize(S),a=C.getSize(),o=M.gridpanel_padding_border_top;switch(M.gridpanel_grid_align){case"middle":switch(M.gridpanel_arrows_align_vert){default:var s=a.height+M.gridpanel_arrows_padding_vert+r.height;o=(O.panelHeight-s)/2;break;case"border":case"borders":var l=O.panelHeight-r.height-M.gridpanel_padding_border_bottom;o=(l-a.height)/2}break;case"bottom":var s=a.height+r.height+M.gridpanel_arrows_padding_vert;o=O.panelHeight-s-M.gridpanel_padding_border_bottom}var u=C.getElement(),d=_();x.placeElement(u,d,o);var a=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":e=a.bottom+(O.panelHeight-a.bottom-r.height)/2,i=0;break;case"grid":e=a.bottom+M.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=M.gridpanel_padding_border_bottom}t=-r.width/2-M.gridpanel_space_between_arrows/2,x.placeElement(S,"center",e,t,i);var n=Math.abs(t);x.placeElement(P,"center",e,n,i)}function m(){1==O.arrowsVisible?p():g()}function f(){var e,t,i,n,r=x.getElementSize(S),a=C.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left+M.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=O.panelWidth-a.width-r.width-M.gridpanel_padding_border_right-M.gridpanel_arrows_padding_hor}var o=C.getElement();switch(x.placeElement(o,e,M.gridpanel_padding_border_top),a=C.getSize(),M.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(a.height-r.height)/2+a.top;break;case"top":n=M.gridpanel_padding_border_top+M.gridpanel_arrows_padding_vert;break;case"bottom":n=O.panelHeight-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert-r.height}switch(M.gridpanel_arrows_align_hor){default:case"borders":t=M.gridpanel_padding_border_left,i=O.panelWidth-M.gridpanel_padding_border_right-r.width;break;case"grid":t=a.left-M.gridpanel_arrows_padding_hor-r.width,i=a.right+M.gridpanel_arrows_padding_hor;break;case"center":t=(a.left-r.width)/2,i=a.right+(O.panelWidth-a.right-r.width)/2}x.placeElement(S,t,n),x.placeElement(P,i,n)}function v(){var e,t=C.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=O.panelWidth-t.width-M.gridpanel_padding_border_right}var i=C.getElement();x.placeElement(i,e,M.gridpanel_padding_border_top)}function b(){1==O.arrowsVisible?f():v()}function y(){0==O.isHorType?1==M.gridpanel_vertical_scroll?h():m():b(),A.placeElements()}var I,w,P,S,E=this,T=jQuery(this),j=new UniteGalleryMain,x=new UGFunctions,C=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var M={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},k={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},z={gridpanel_grid_align:"center"},O={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.getOrientation=function(){return O.orientation},this.setOrientation=function(e){switch(O.orientation=e,e){case"right":case"left":O.isHorType=!1;break;case"top":case"bottom":O.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==O.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+O.orientation+"). Please use setWidth");O.panelHeight=e;var t=o();C.setMaxHeight(t)},this.setWidth=function(e){if(0==O.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+O.orientation+"). Please use setHeight");O.panelWidth=e;var t=s();C.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return w},this.getSize=function(){var e=x.getElementSize(w);return e},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":var i={top:e+"px"}}a.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(n.orientation){case"right":case"left":g.placeElement(a,e,null);break;case"top":case"bottom":g.placeElement(a,null,e)}}function i(){s.trigger(r.events.FINISH_MOVE)}var n,r,a,o,s,l,u,d=new UniteGalleryMain,_=this,g=new UGFunctions;this.init=function(e,t,i,a,l){n=t,r=i,d=e,o=a,s=l,u=jQuery(d)},this.setHtml=function(e){if(a=e,"strip"==n.panelType)var t=o.strippanel_enable_handle;else var t=o.gridpanel_enable_handle;if(1==t&&(l=new UGPanelHandle,l.init(r,a,o,n.panelType,d),l.setHtml()),n.isDisabledAtStart===!0){var i="<div class='ug-panel-disabled-overlay'></div>";a.append(i),setTimeout(function(){a.children(".ug-panel-disabled-overlay").hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.openPanel=function(o){if(!o)var o=!1;return a.is(":animated")?!1:0==n.isClosed?!1:(n.isClosed=!1,s.trigger(r.events.OPEN_PANEL),void(o===!1?e(n.originalPos,i):(t(n.originalPos),i())))},this.closePanel=function(o){if(!o)var o=!1;if(a.is(":animated"))return!1;if(1==n.isClosed)return!1;var l=_.getClosedPanelDest();n.isClosed=!0,s.trigger(r.events.CLOSE_PANEL),o===!1?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,s.trigger(r.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(){s.trigger(r.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=g.getElementSize(a);switch(n.orientation){case"left":n.originalPos=t.left,e=-n.panelWidth;break;case"right":n.originalPos=t.left;var i=d.getSize();e=i.width;break;case"top":n.originalPos=t.top,e=-n.panelHeight;break;case"bottom":n.originalPos=t.top;var i=d.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){return 0>=e?!1:(n.isDisabledAtStart=!0,void(n.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){s.removeClass("ug-button-hover")}function t(){s.addClass("ug-button-closed")}function i(){s.removeClass("ug-button-closed")}function n(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)?!0:void(o.isPanelClosed()?o.openPanel():o.closePanel())}function r(){var e=o.getOrientation();switch(e){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var a,o,s,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,r){switch(o=e,a=t,n){case"grid":u.panel_handle_align=i.gridpanel_handle_align,u.panel_handle_offset=i.gridpanel_handle_offset,u.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=i.strippanel_handle_align,u.panel_handle_offset=i.strippanel_handle_offset,u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var s=r.getOptions(),l=s.gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=l)},this.setHtml=function(){var e=o.getOrientation(),t="ug-panel-handle-tip";switch(e){case"right":t+=" ug-handle-tip-left";break;case"left":t+=" ug-handle-tip-right";break;case"bottom":t+=" ug-handle-tip-top";break;case"top":t+=" ug-handle-tip-bottom"}a.append("<div class='"+t+" ug-skin-"+u.panel_handle_skin+"'></div>"),s=a.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(s),s.bind("click touchstart",n),jQuery(o).on(o.events.OPEN_PANEL,function(){e(),i()}),jQuery(o).on(o.events.CLOSE_PANEL,function(){e(),t()})},this.placeHandle=function(){var e=l.getElementSize(s);r();var t=o.getOrientation();switch(t){case"left":l.placeElement(s,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(s,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(s,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(s,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==s.is(":visible")&&s.hide()},this.showHandle=function(){0==s.is(":visible")&&s.show()}}function UGSlider(){function e(e,t){ut=e,X=jQuery(e);var n=ut.getObjects();if(Z=n.g_objWrapper,q=n.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(ft.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==ft.slider_progress_indicator_type&&(ft=jQuery.extend(ft,vt)),t&&st.setOptions(t),i(),1==ft.slider_enable_bullets){gt=new UGBullets;var r={skin:ft.slider_bullets_skin,space_between:ft.slider_bullets_space_between};gt.init(ut,r)}ft.slider_enable_text_panel&&(mt=new UGTextPanel,mt.init(ut,ft)),ft.slider_enable_zoom_panel&&(ot=new UGZoomButtonsPanel,ot.init(st,ft));var a=ut.getGalleryID();ct.init(ft,!1,a)}function t(){return 1==bt.isRunOnce?!1:(bt.isRunOnce=!0,1==ft.slider_control_swipe&&(rt=new UGTouchSliderControl,rt.init(st,ft)),1==ft.slider_control_zoom&&(at=new UGZoomSliderControl,at.init(st,ft)),mt&&mt.run(),void F())}function i(){var e=ut.getOptions(),t=e.gallery_skin;""==ft.slider_bullets_skin&&(ft.slider_bullets_skin=t),""==ft.slider_arrows_skin&&(ft.slider_arrows_skin=t),""==ft.slider_zoompanel_skin&&(ft.slider_zoompanel_skin=t),""==ft.slider_play_button_skin&&(ft.slider_play_button_skin=t),""==ft.slider_fullscreen_button_skin&&(ft.slider_fullscreen_button_skin=t)}function n(e,t){var i="ug-type-square";return"round"==ft.slider_videoplay_button_type&&(i="ug-type-round"),html="",html+="<div class='ug-slide-wrapper ug-slide"+t+"'>",html+="<div class='ug-item-wrapper'></div>",html+="<div class='ug-slider-preloader "+e+"'></div>",html+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",html+="</div>"}function r(){var e=D(),t=(ut.getOptions(),"<div class='ug-slider-wrapper'>");if(t+="<div class='ug-slider-inner'>",t+=n(e,1),t+=n(e,2),t+=n(e,3),t+="</div>",1==ft.slider_enable_arrows&&(t+="<div class='ug-slider-control ug-arrow-left ug-skin-"+ft.slider_arrows_skin+"'></div>",t+="<div class='ug-slider-control ug-arrow-right ug-skin-"+ft.slider_arrows_skin+"'></div>"),1==ft.slider_enable_play_button&&(t+="<div class='ug-slider-control ug-button-play ug-skin-"+ft.slider_play_button_skin+"'></div>"),1==ft.slider_enable_fullscreen_button&&(t+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+ft.slider_fullscreen_button_skin+"'></div>"),t+="</div>",Z.append(t),K=Z.children(".ug-slider-wrapper"),J=K.children(".ug-slider-inner"),$=J.children(".ug-slide1"),et=J.children(".ug-slide2"),tt=J.children(".ug-slide3"),$.data("slidenum",1),et.data("slidenum",2),tt.data("slidenum",3),gt&&gt.appendHTML(K),1==ft.slider_enable_arrows&&(it=K.children(".ug-arrow-left"),nt=K.children(".ug-arrow-right")),1==ft.slider_enable_play_button&&(dt=K.children(".ug-button-play")),1==ft.slider_enable_fullscreen_button&&(_t=K.children(".ug-button-fullscreen")),1==ft.slider_enable_progress_indicator){pt=ht.initProgressIndicator(ft.slider_progress_indicator_type,ft,K);var i=pt.getType();"bar"==i&&"pie"==ft.slider_progress_indicator_type&&(ft.slider_progress_indicator_type="bar",ft=jQuery.extend(ft,vt)),ut.setProgressIndicator(pt)}if(1==ft.slider_enable_text_panel)if(0==ft.slider_textpanel_always_on&&1==hasControls&&0==ft.slider_controls_always_on)mt.appendHTML(K);else if(mt.appendHTML(K),0==ft.slider_textpanel_always_on){var r=mt.getElement();r.hide().data("isHidden",!0),bt.isTextPanelSaparateHover=!0}1==ft.slider_enable_zoom_panel&&ot.appendHTML(K),ct.setHtml(K)}function a(e){var t=B(e);ht.placeElementInParentCenter(t);var i=Y(e);ht.placeElementInParentCenter(i)}function o(){if(gt&&(objBullets=gt.getElement(),ht.placeElement(objBullets,ft.slider_bullets_align_hor,ft.slider_bullets_align_vert,ft.slider_bullets_offset_hor,ft.slider_bullets_offset_vert)),1==ft.slider_enable_arrows&&(ht.placeElement(it,ft.slider_arrow_left_align_hor,ft.slider_arrow_left_align_vert,ft.slider_arrow_left_offset_hor,ft.slider_arrow_left_offset_vert),ht.placeElement(nt,ft.slider_arrow_right_align_hor,ft.slider_arrow_left_align_vert,ft.slider_arrow_right_offset_hor,ft.slider_arrow_right_offset_vert)),0==ft.slider_controls_always_on&&S(!0),pt){var e=pt.getElement();if("bar"==ft.slider_progress_indicator_type){var t=K.width();pt.setSize(t),ht.placeElement(e,"left",ft.slider_progress_indicator_align_vert,0,ft.slider_progress_indicator_offset_vert)}else ht.placeElement(e,ft.slider_progress_indicator_align_hor,ft.slider_progress_indicator_align_vert,ft.slider_progress_indicator_offset_hor,ft.slider_progress_indicator_offset_vert)}mt&&mt.positionPanel(),s(),a($),a(et),a(tt)}function s(){if(dt&&ht.placeElement(dt,ft.slider_play_button_align_hor,ft.slider_play_button_align_vert,ft.slider_play_button_offset_hor,ft.slider_play_button_offset_vert),dt&&ht.placeElement(_t,ft.slider_fullscreen_button_align_hor,ft.slider_fullscreen_button_align_vert,ft.slider_fullscreen_button_offset_hor,ft.slider_fullscreen_button_offset_vert),ot){var e=ot.getElement();ht.placeElement(e,ft.slider_zoompanel_align_hor,ft.slider_zoompanel_align_vert,ft.slider_zoompanel_offset_hor,ft.slider_zoompanel_offset_vert)}}function l(e,t,i){i?e.fadeTo(ft.slider_transition_speed,t,i):e.fadeTo(ft.slider_transition_speed,t)}function u(){var e,t,i,n,r=st.getSlidesReference(),a=0,o=0,s=0;i=st.isSlideHasItem(r.objNextSlide),n=st.isSlideHasItem(r.objPrevSlide),n?(s=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),t=s+r.objCurrentSlide.outerWidth(),e=t,i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),ht.placeElement(r.objCurrentSlide,s,a),J.css({left:-s+"px",width:e+"px"}),n&&(ht.placeElement(r.objPrevSlide,o,a),ht.showElement(r.objPrevSlide)),i&&(ht.showElement(r.objNextSlide),ht.placeElement(r.objNextSlide,t,a))}function d(e,t){switch(ft.slider_transition){default:case"fade":g(t);break;case"slide":_(e,t)}}function _(e,t){var i=st.isAnimating();if(1==i)return bt.itemWaiting=t,!0;null!=bt.itemWaiting&&(bt.itemWaiting=null);var n=st.getSlidesReference();switch(e){case"right":f(n.objPrevSlide,t),u();var r=ht.getElementSize(n.objPrevSlide),a=-r.left;st.switchSlideNums("right");break;case"left":f(n.objNextSlide,t),u();var o=ht.getElementSize(n.objNextSlide),a=-o.left;st.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var s=ft.slider_transition_speed,l=ft.slider_transition_easing;J.animate({left:a+"px"},{duration:s,easing:l,queue:!1,always:function(){if(null!=bt.itemWaiting){var e=R(bt.itemWaiting);_(e,bt.itemWaiting)}else st.placeNabourItems()}})}function g(e){var t=st.getSlidesReference();f(t.objNextSlide,e);var i=ht.getElementSize(t.objCurrentSlide);ht.placeElement(t.objNextSlide,i.left,i.top);var n=bt.numCurrent;bt.numCurrent=bt.numNext,bt.numNext=n,t.objNextSlide.stop(!0),t.objNextSlide.fadeTo(0,0),t.objCurrentSlide.stop(!0),l(t.objCurrentSlide,0,function(){st.placeNabourItems()}),l(t.objNextSlide,1)}function c(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=ut.getItem(t);return i?void f(e,i):!1}function h(e){e.stop(!0).show(100)}function p(e){e.stop(!0).hide(100)}function m(e,t,i){var n=e.children(".ug-item-wrapper"),r=B(e),a=t.urlImage,o=e.data("urlImage");e.data("urlImage",a);var s=st.getScaleMode(e);if(o==a&&i!==!0){var l=n.children("img");ht.scaleImageFitParent(l,t.imageWidth,t.imageHeight,s)}else l=ht.placeImageInsideParent(a,n,t.imageWidth,t.imageHeight,s),1==t.isBigImageLoaded?(l.fadeTo(0,1),p(r)):(l.fadeTo(0,0),h(r),l.data("itemIndex",t.index),l.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=B(i);p(n),ut.onItemBigImageLoaded(null,e);var r=ut.getItem(t);ht.scaleImageFitParent(e,r.imageWidth,r.imageHeight,s),e.fadeTo(0,1)}))}function f(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;{e.data("index")}e.data("index",t.index),e.data("type",t.type),m(e,t);var n=Y(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(r){throw i.html(""),new Error(r)}}function v(){if(!mt)return!1;if(1==y())return!1;var e=mt.getElement(),t=0;(1==bt.isTextPanelSaparateHover||1==ft.slider_textpanel_always_on)&&(t=ft.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function b(){if(!mt)return!1;if(0==y())return!1;var e=mt.getElement(),t=0;(1==bt.isTextPanelSaparateHover||1==ft.slider_textpanel_always_on)&&(e.show(),mt.positionElements(),t=ft.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function y(){var e=mt.getElement(),t=e.data("isHidden");return t===!1?!1:!0}function I(e,t){if(void 0==t)var t=st.getCurrentSlide();var i=st.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e);return!0}function w(e){var t=V(e);switch(ct.show(),t.type){case"youtube":ct.playYoutube(t.videoid);break;case"vimeo":ct.playVimeo(t.videoid);break;case"html5video":ct.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":ct.playSoundCloud(t.trackid);break;case"wistia":ct.playWistia(t.videoid)}}function P(){var e=K.children(".ug-slider-control");return e}function S(e){if(0==ht.isTimePassed("sliderControlsToggle"))return!1;if(0==bt.isControlsVisible)return!1;if(!e)var e=!1;var t=P();e===!0?t.stop().hide():t.stop().hide(300),bt.isControlsVisible=!1}function E(e){if(0==ht.isTimePassed("sliderControlsToggle"))return!1;if(1==bt.isControlsVisible)return!0;if(!e)var e=!1;var t=P();e===!0?t.stop().show():t.stop().show(ft.slider_controls_appear_duration),bt.isControlsVisible=!0}function T(){0==bt.isControlsVisible?E():S()}function j(e){if(e==bt.currentControlsMode)return!1;switch(e){case"image":ot&&ot.getElement().show();break;case"video":ot&&ot.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}bt.currentControlsMode=e}function x(){var e=ut.getSelectedItem();st.setItem(e);var t=e.index;gt&&gt.setActive(t),mt&&0==bt.isTextPanelSaparateHover&&b(),j("image"==e.type?"image":"video")}function C(e,t){ut.selectItem(t)}function A(e){return 0==st.isCurrentSlideType("image")?!1:void(rt&&1!=rt.isTapEventOccured(e)||(T(),mt&&1==ft.slider_textpanel_always_on&&st.isCurrentSlideType("image")&&st.isCurrentSlideImageFit()&&b()))}function M(){mt&&st.isCurrentSlideType("image")&&0==st.isCurrentSlideImageFit()&&v()}function k(){E()}function z(){S()}function O(){ct.hide()}function N(e){var t=e.parent();w(t)}function H(){ut.isPlayMode()&&ut.pausePlaying(),lt.trigger(st.events.ACTION_START)}function L(){ut.isPlayMode()&&ut.continuePlaying(),lt.trigger(st.events.ACTION_END)}function G(e,t){$.data("index")==t&&(objItem=ut.getItem(t),m($,objItem,!0)),et.data("index")==t&&(objItem=ut.getItem(t),m(et,objItem,!0)),tt.data("index")==t&&(objItem=ut.getItem(t),m(tt,objItem,!0))}function Q(e){var t=Y(e);ht.addClassOnHover(t),ht.setButtonOnClick(t,N)}function F(){X.on(ut.events.ITEM_IMAGE_UPDATED,G),X.on(ut.events.ITEM_CHANGE,x),gt&&jQuery(gt).on(gt.events.BULLET_CLICK,C),1==ft.slider_enable_arrows&&(ht.addClassOnHover(nt,"ug-arrow-hover"),ht.addClassOnHover(it,"ug-arrow-hover"),ut.setNextButton(nt),ut.setPrevButton(it)),0==ft.slider_controls_always_on&&(K.hover(k,z),1==ft.slider_controls_appear_ontap&&K.bind("touchend",A)),mt&&1==bt.isTextPanelSaparateHover&&K.hover(b,v),dt&&(ht.addClassOnHover(dt,"ug-button-hover"),ut.setPlayButton(dt)),_t&&(ht.addClassOnHover(_t,"ug-button-hover"),ut.setFullScreenToggleButton(_t)),at&&lt.on(st.events.ZOOM_CHANGE,M),ot&&ot.initEvents(),ct.initEvents(),lt.on(st.events.BEFORE_SWITCH_SLIDES,O),jQuery(ct).on(ct.events.SHOW,H),jQuery(ct).on(ct.events.HIDE,L),Q($),Q(et),Q(tt)}function D(){var e;switch(ft.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==ft.slider_loader_color&&(e+=" ug-loader-black"),e}function W(e){switch(e){case 1:return $;case 2:return et;case 3:return tt;default:throw new Error("wrong num: "+e)}}function R(e){var t=st.getSlidesReference(),i=t.objCurrentSlide.data("index"),n=e.index,r="left";return i>n&&(r="right"),r}function B(e){var t=e.children(".ug-slider-preloader");return t}function Y(e){var t=e.children(".ug-button-videoplay");return t}function U(e){var t=e.find(".ug-item-wrapper img");return t}function V(e){var t=e.data("index");if(void 0==t)return null;var i=ut.getItem(t);return i}var X,Z,q,K,J,$,et,tt,it,nt,rt,at,ot,st=this,lt=jQuery(st),ut=new UniteGalleryMain,dt=null,_t=null,gt=null,ct=new UGVideoPlayer,ht=new UGFunctions,pt=null,mt=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",ACTION_START:"action_start",ACTION_END:"action_end"};var ft={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_loader_type:1,slider_loader_color:"white",slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},vt={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},bt={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.setHtml=function(){r()},this.run=function(){t()},this.isInnerInPlace=function(){var e=st.getSlidesReference(),t=ht.getElementSize(e.objCurrentSlide),i=-t.left,n=ht.getElementSize(J);
return i==n.left?!0:!1},this.isAnimating=function(){var e=J.is(":animated");return e},this.isSlideHasItem=function(e){var t=e.data("index");return void 0===t||null===t?!1:!0},this.getSlidesReference=function(){var e={objPrevSlide:W(bt.numPrev),objNextSlide:W(bt.numNext),objCurrentSlide:W(bt.numCurrent)};return e},this.getCurrentSlide=function(){var e=st.getSlidesReference();return e.objCurrentSlide},this.getCurrentItemIndex=function(){var e=st.getSlidesReference(),t=e.objCurrentSlide.data("index");return(null===t||void 0===t)&&(t=-1),t},this.getSlideType=function(e){void 0==e&&(e=st.getCurrentSlide());var t=e.data("type");return t},this.isCurrentSlideType=function(e){var t=st.getSlideType();return t==e?!0:!1},this.setItem=function(e){var t=st.getSlidesReference(),i=t.objCurrentSlide.data("index"),n=e.index;if(n==i)return!0;var r=void 0==i;if(r)f(t.objCurrentSlide,e),st.placeNabourItems();else{var a="left",o=ut.getNumItems();i==o-1&&0==n?a="left":0==i&&n==o-1?a="right":i>n&&(a="right"),d(a,e)}},this.placeNabourItems=function(){var e=st.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=ut.getPrevItem(t),n=ut.getNextItem(t);f(e.objNextSlide,n),f(e.objPrevSlide,i),u()},this.switchSlideNums=function(e){switch(lt.trigger(st.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=bt.numCurrent;bt.numCurrent=bt.numNext,bt.numNext=bt.numPrev,bt.numPrev=t;break;case"right":var t=bt.numCurrent;bt.numCurrent=bt.numPrev,bt.numPrev=bt.numNext,bt.numNext=t;break;default:throw new Error("wrong direction: "+e)}lt.trigger(st.events.ITEM_CHANGED)},this.________EXTERNAL_API___________=function(){},this.getScaleMode=function(e){if(!e)var e=st.getCurrentSlide();var t=st.getSlideType(e);return"image"!=t?ft.slider_scale_mode_media:ft.slider_scale_mode==ft.slider_scale_mode_fullscreen?ft.slider_scale_mode:1==ut.isFullScreen()?ft.slider_scale_mode_fullscreen:ft.slider_scale_mode},this.getObjects=function(){var e={g_objSlider:K,g_objInner:J,g_options:ft,g_objZoomSlider:at};return e},this.getObjZoom=function(){return at},this.getOptions=function(){return ft},this.getElement=function(){return K},this.isCurrentSlideImageFit=function(){{var e=st.getCurrentSlide();st.getSlideType(e)}I("image",e);var t=U(e);if(0==t.length)return!1;var i=ht.isImageFitParent(t);return i},this.isSlideActionActive=function(){return ct.isVisible()},this.setOptions=function(e){ft=jQuery.extend(ft,e)},this.setSize=function(e,t){if(0>e||0>t)return!0;var i={};i.width=e+"px",i.height=t+"px",K.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",J.css(n);var r={};r.height=t+"px",r.width=e+"px",$.css(r),et.css(r),tt.css(r);var a=e-ft.slider_item_padding_left-ft.slider_item_padding_right,s=t-ft.slider_item_padding_top-ft.slider_item_padding_bottom,l={};l.width=a+"px",l.height=s+"px",l.top=ft.slider_item_padding_top+"px",l.left=ft.slider_item_padding_left+"px",K.find(".ug-item-wrapper").css(l),mt&&mt.setSizeByParent(),ct.setSize(e,t),o(),c($),c(et),c(tt),u()},this.isMouseOver=function(){return K.ismouseover()},this.setPosition=function(e,t){ht.placeElement(K,e,t)},this.zoomIn=function(){return at?void at.zoomIn():!0},this.zoomOut=function(){return at?void at.zoomOut():!0},this.zoomBack=function(){return at?void at.zoomBack():!0}}function UGTextPanel(){function e(e,t){if(!t)var t=m.slider_textpanel_padding_top;var i=t;if(u){var n=i;p.placeElement(u,0,n);var a=p.getElementSize(u),i=a.bottom}var o="";if(d&&(o=jQuery.trim(d.text())),""!=o){var s=i;u&&(s+=m.slider_textpanel_padding_title_description),p.placeElement(d,0,s);var l=p.getElementSize(d);i=l.bottom}if(!m.slider_textpanel_height){var _=i+m.slider_textpanel_padding_bottom;r(_,e)}}function t(){var e=0;if(u&&(e+=u.outerHeight()),d){var t="";d&&(t=jQuery.trim(d.text())),""!=t&&(u&&(e+=m.slider_textpanel_padding_title_description),e+=d.outerHeight())}return e}function i(){var i=t(),n=(g.height()-i)/2;e(!1,n)}function n(){var i=t(),n=g.height()-i-m.slider_textpanel_padding_bottom;e(!1,n)}function r(e,t){if(!t)var t=!1;if(1==t){if(_){var i=_.height();e>i&&_.height(e)}var n={height:e+"px"};s.animate(n,m.slider_textpanel_fade_duration)}else _&&_.height(e),s.height(e)}function a(){var e=c.getSelectedItem();h.setText(e.title,e.description)}function o(){jQuery(c).on(c.events.ITEM_CHANGE,a)}var s,l,u,d,_,g,c,h=this,p=new UGFunctions,m={slider_textpanel_align:"bottom",slider_textpanel_margin:0,slider_textpanel_text_valign:"middle",slider_textpanel_padding_top:10,slider_textpanel_padding_bottom:10,slider_textpanel_height:null,slider_textpanel_padding_title_description:5,slider_textpanel_padding_right:11,slider_textpanel_padding_left:11,slider_textpanel_fade_duration:200,slider_textpanel_enable_title:!0,slider_textpanel_enable_description:!0,slider_textpanel_enable_bg:!0,slider_textpanel_bg_color:"#000000",slider_textpanel_bg_opacity:.4,slider_textpanel_bg_css:{},slider_textpanel_css_title:{},slider_textpanel_css_description:{}},f={isFirstTime:!0};this.positionElements=function(t){if(!m.slider_textpanel_height||"top"==m.slider_textpanel_text_valign)return e(t),!1;switch(m.slider_textpanel_text_valign){default:case"top":e(!1);break;case"bottom":n();break;case"center":case"middle":i()}},this.init=function(e,t){if(c=e,t&&(m=jQuery.extend(m,t)),0==m.slider_textpanel_enable_title&&0==m.slider_textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");m.slider_textpanel_height&&m.slider_textpanel_height<0&&(m.slider_textpanel_height=null)},this.appendHTML=function(e){l=e;var t="<div class='ug-textpanel'>";if(1==m.slider_textpanel_enable_bg&&(t+="<div class='ug-textpanel-bg'></div>"),t+="<div class='ug-textpanel-textwrapper'>",1==m.slider_textpanel_enable_title&&(t+="<div class='ug-textpanel-title'></div>"),1==m.slider_textpanel_enable_description&&(t+="<div class='ug-textpanel-description'></div>"),t+="</div></div>",e.append(t),s=e.children(".ug-textpanel"),1==m.slider_textpanel_enable_bg){_=s.children(".ug-textpanel-bg"),_.fadeTo(0,m.slider_textpanel_bg_opacity);var i={"background-color":m.slider_textpanel_bg_color};i=jQuery.extend(i,m.slider_textpanel_bg_css),_.css(i)}g=s.children(".ug-textpanel-textwrapper"),1==m.slider_textpanel_enable_title&&(u=g.children(".ug-textpanel-title"),u.css(m.slider_textpanel_css_title)),1==m.slider_textpanel_enable_description&&(d=g.children(".ug-textpanel-description"),d.css(m.slider_textpanel_css_description))},this.run=function(){h.setSizeByParent(),o()},this.setSizeByParent=function(){var e=p.getElementSize(l),t=e.width,i=80;m.slider_textpanel_height&&(i=m.slider_textpanel_height),s.width(t),s.height(i),_&&(_.width(t),_.height(i));var n=t-m.slider_textpanel_padding_left-m.slider_textpanel_padding_right,r=m.slider_textpanel_padding_left;p.setElementSizeAndPosition(g,r,0,n,i),u&&u.width(n),d&&d.width(n),0==f.isFirstTime&&h.positionElements(!1)},this.setText=function(e,t){1==f.isFirstTime?(u&&u.html(e),d&&d.html(t),f.isFirstTime=!1,h.positionElements(!1)):g.stop().fadeTo(m.slider_textpanel_fade_duration,0,function(){u&&u.html(e),d&&d.html(t),h.positionElements(!0),jQuery(this).fadeTo(m.slider_textpanel_fade_duration,1)})},this.positionPanel=function(){var e={};switch(m.slider_textpanel_align){case"top":e.top=m.slider_textpanel_margin+"px";break;case"bottom":e.bottom=m.slider_textpanel_margin+"px"}s.css(e)},this.setOptions=function(e){m=jQuery.extend(m,e)},this.getElement=function(){return s},this.hide=function(){s.hide()},this.show=function(){s.show()},this.getOptions=function(){return m},this.getOption=function(e){return 0==m.hasOwnProperty(e)?null:m[e]}}function UGZoomButtonsPanel(){function e(e){return e.hasClass("ug-zoompanel-button-disabled")?!0:!1}function t(e){e.addClass("ug-zoompanel-button-disabled")}function i(e){e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==d.isCurrentSlideType("image"))return!0;var n=d.isCurrentSlideImageFit();1==n?0==e(s)&&(t(s),t(l)):1==e(s)&&(i(s),i(l))}var r,a,o,s,l,u=this,d=new UGSlider,_=new UGFunctions,g={slider_zoompanel_skin:""};this.init=function(e,t){d=e,t&&(g=jQuery.extend(g,t))},this.appendHTML=function(e){a=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+g.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),r=e.children(".ug-zoompanel"),o=r.children(".ug-zoompanel-plus"),s=r.children(".ug-zoompanel-minus"),l=r.children(".ug-zoompanel-return")},this.getElement=function(){return r},u.initEvents=function(){_.addClassOnHover(o,"ug-button-hover"),_.addClassOnHover(s,"ug-button-hover"),_.addClassOnHover(l,"ug-button-hover"),_.setButtonOnClick(o,function(){return 1==e(o)?!0:void d.zoomIn()}),_.setButtonOnClick(s,function(){return 1==e(s)?!0:void d.zoomOut()}),_.setButtonOnClick(l,function(){return 1==e(l)?!0:void d.zoomBack()}),jQuery(d).on(d.events.ZOOM_CHANGE,n),jQuery(d).on(d.events.ITEM_CHANGED,n)}}function UGBullets(){function e(e){if(1==o.isActive(e))return!0;var t=e.index();jQuery(o).trigger(o.events.BULLET_CLICK,t)}function t(){var t=r.children(".ug-bullet");d.setButtonOnClick(t,e),t.on("mousedown mouseup",function(){return!1})}function i(e){if(0>e||e>=s)throw new Error("wrong bullet index: "+e)}function n(){if(1==_.isInited)return!0;throw new Error("The bullets are not inited!")}var r,a,o=this,s=0,l=new UniteGalleryMain,u=-1,d=new UGFunctions,_={isInited:!1},g={skin:"",space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t){l=e,s=l.getNumItems(),_.isInited=!0,g=jQuery.extend(g,t)},this.appendHTML=function(e){a=e,n();var i="<div class='ug-slider-control ug-bullets ug-skin-"+g.skin+"'>",o="";-1!=g.space_between&&(o=" style='margin-left:"+g.space_between+"px'");for(var l=0;s>l;l++)i+="<div class='ug-bullet'"+o+"></div>";i+="</div>",r=jQuery(i),e.append(r),t()},this.getElement=function(){return r},this.setActive=function(e){n(),i(e);var t=r.children(".ug-bullet");t.removeClass("ug-bullet-active");var a=jQuery(t[e]);a.addClass("ug-bullet-active"),u=e},this.isActive=function(e){if(i(e),"number"!=typeof e)var t=e;else var t=r.children(".ug-bullet")[e];return t.hasClass("ug-bullet-active")?!0:!1}}function UGProgressBar(){var e,t,i=this,n=0,r=new UGFunctions,a={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&&(a=jQuery.extend(a,n)),i.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=i.children(".ug-progress-bar"),t=e.children(".ug-progress-bar-inner"),t.css("background-color",a.slider_progressbar_color),e.height(a.slider_progressbar_line_width),t.height(a.slider_progressbar_line_width),t.width("0%");var r=a.slider_progressbar_opacity,o=t[0];o.style.opacity=r,o.style.filter="alpha(opacity="+100*r+")"},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,a){r.placeElement(e,t,i,n,a)},this.draw=function(){var e=100*n;t.width(e+"%")},this.setProgress=function(e){n=r.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(o.slider_progresspie_width,o.slider_progresspie_height)/2,n=i[0].getContext("2d");0==r&&(r=!0,n.rotate(1.5*Math.PI),n.translate(-2*t,0)),n.clearRect(0,0,o.slider_progresspie_width,o.slider_progresspie_height);var a=o.slider_progresspie_width/2,s=o.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==o.slider_progresspie_type_fill)n.beginPath(),n.moveTo(a,s),n.arc(a,s,t,l,u),n.lineTo(a,s),n.fillStyle=o.slider_progresspie_color1,n.fill(),n.closePath();else{n.globalCompositeOperation="source-over",n.beginPath(),n.moveTo(a,s),n.arc(a,s,t,l,u),n.lineTo(a,s),n.fillStyle=o.slider_progresspie_color1,n.fill(),n.closePath(),n.globalCompositeOperation="destination-out";var d=t-o.slider_progresspie_stroke_width;n.beginPath(),n.moveTo(a,s),n.arc(a,s,d,l,u),n.lineTo(a,s),n.fillStyle=o.slider_progresspie_color1,n.fill(),n.closePath()}1==o.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,n.beginPath(),n.arc(a,s,t,l,u),n.lineTo(a,s),n.fillStyle=o.slider_progresspie_color2,n.fill(),n.closePath())}var t,i,n=this,r=!1,a=new UGFunctions,o={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(o=jQuery.extend(o,t)),e.append("<canvas class='ug-canvas-pie' width='"+o.slider_progresspie_width+"' height='"+o.slider_progresspie_height+"'></canvas>"),i=e.children(".ug-canvas-pie")},this.putHidden=function(t,r){n.put(t,r),e(.1),i.hide()},this.getElement=function(){return i},this.setPosition=function(e,t){a.placeElement(i,e,t)},this.getSize=function(){var e={width:o.slider_progresspie_width,height:o.slider_progresspie_height};return e},this.setProgress=function(i){i=a.normalizePercent(i),t=i,e(i)},this.getType=function(){return"pie"}}function UGStripPanel(){function e(e,t){S=e,f=jQuery(S),x=jQuery.extend(x,t);var i=!1;1==x.strippanel_vertical_type&&(x=jQuery.extend(x,C),i=!0),0==x.strippanel_enable_buttons&&(x=jQuery.extend(x,A),i=!0),1==i&&(x=jQuery.extend(x,t));var n=S.getOptions(),r=n.gallery_skin;""==x.strippanel_buttons_skin&&(x.strippanel_buttons_skin=r),v=S.getElement(),j.init(S,M,w,x,P),S.initThumbsPanel("strip",x);var a=S.getObjects();T=a.g_objThumbs}function t(){if(0==x.strippanel_vertical_type){if(0==M.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==M.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==M.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function i(){return 1==M.isFirstRun&&0==t()?!1:(T.run(),s(),d(),m(),M.isFirstRun=!1,void c())}function n(e){if(!e)var e=v;if(e.append("<div class='ug-strip-panel'></div>"),b=e.children(".ug-strip-panel"),1==x.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==x.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),b.append("<div class='ug-strip-arrow "+t+" ug-skin-"+x.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),b.append("<div class='ug-strip-arrow "+i+" ug-skin-"+x.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}j.setHtml(b),T.setHtml(b),1==x.strippanel_enable_buttons&&(I=b.children("."+t),y=b.children("."+i)),r()}function r(){""!=x.strippanel_background_color&&b.css("background-color",x.strippanel_background_color)}function a(){var e=T.getHeight(),t=M.panelWidth;if(y){I.height(e),y.height(e);var i=I.children(".ug-strip-arrow-tip");E.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");E.placeElement(n,"center","middle")}var r=e+x.strippanel_padding_top+x.strippanel_padding_bottom;b.width(t),b.height(r),M.panelHeight=r;var a=t-x.strippanel_padding_left-x.strippanel_padding_right;if(y){var o=y.outerWidth();a=a-2*o-2*x.strippanel_padding_buttons}T.resize(a)}function o(){var e=T.getWidth(),t=M.panelHeight;if(y){I.width(e),y.width(e);var i=I.children(".ug-strip-arrow-tip");E.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");E.placeElement(n,"center","middle")}var r=e+x.strippanel_padding_left+x.strippanel_padding_right;b.width(r),b.height(t),M.panelWidth=r;var a=t-x.strippanel_padding_top-x.strippanel_padding_bottom;if(y){var o=y.outerHeight();a=a-2*o-2*x.strippanel_padding_buttons}T.resize(a)}function s(){0==x.strippanel_vertical_type?a():o()}function l(){y&&(E.placeElement(I,"left","top",x.strippanel_padding_left,x.strippanel_padding_top),E.placeElement(y,"right","top",x.strippanel_padding_right,x.strippanel_padding_top));var e=x.strippanel_padding_left;y&&(e+=y.outerWidth()+x.strippanel_padding_buttons),T.setPosition(e,x.strippanel_padding_top)}function u(){y&&(E.placeElement(I,"left","top",x.strippanel_padding_left,x.strippanel_padding_top),E.placeElement(y,"left","bottom",x.strippanel_padding_left,x.strippanel_padding_bottom));var e=x.strippanel_padding_top;y&&(e+=y.outerHeight()+x.strippanel_padding_buttons),T.setPosition(x.strippanel_padding_left,e)}function d(){0==x.strippanel_vertical_type?l():u(),j.placeElements()}function _(e){return E.isButtonDisabled(e)?!0:void("advance_item"==x.strippanel_buttons_role?S.nextItem():T.scrollForeward())}function g(e){return E.isButtonDisabled(e)?!0:void("advance_item"==x.strippanel_buttons_role?S.prevItem():T.scrollBack())}function c(){if(!y)return!0;if(0==T.isMoveEnabled())return E.disableButton(I),E.disableButton(y),!0;var e=T.getInnerStripLimits(),t=T.getInnerStripPos();t>=e.maxPos?E.disableButton(I):E.enableButton(I),t<=e.minPos?E.disableButton(y):E.enableButton(y)}function h(){c()}function p(){S.isLastItem()?E.disableButton(y):E.enableButton(y),S.isFirstItem()?E.disableButton(I):E.enableButton(I)}function m(){if(1==M.isEventsInited)return!1;if(M.isEventsInited=!0,y)if(E.addClassOnHover(y,"ug-button-hover"),E.addClassOnHover(I,"ug-button-hover"),E.setButtonOnClick(I,g),E.setButtonOnClick(y,_),"advance_item"!=x.strippanel_buttons_role)jQuery(T).on(T.events.STRIP_MOVE,h),f.on(S.events.SIZE_CHANGE,c);else{var e=S.getOptions();0==e.gallery_carousel&&jQuery(S).on(S.events.ITEM_CHANGE,p)}j.initEvents()}var f,v,b,y,I,w=this,P=jQuery(this),S=new UniteGalleryMain,E=new UGFunctions,T=new UGThumbsStrip,j=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var x={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},C={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},M={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.getOrientation=function(){return M.orientation},this.setOrientation=function(e){M.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return b},this.getSize=function(){var e=E.getElementSize(b);return e},this.setWidth=function(e){M.panelWidth=e},this.setHeight=function(e){M.panelHeight=e},this.resize=function(e){w.setWidth(e),s(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return j.isPanelClosed()},this.getClosedPanelDest=function(){return j.getClosedPanelDest()},this.openPanel=function(e){j.openPanel(e)},this.closePanel=function(e){j.closePanel(e)},this.setOpenedState=function(e){j.setOpenedState(e)},this.setClosedState=function(e){j.setClosedState(e)},this.setCustomThumbs=function(e){T.setCustomThumbs(e)},this.setDisabledAtStart=function(e){j.setDisabledAtStart(e)}}function UGThumbsGeneral(){function e(){var e="ug-thumb-image-overlay",t=P.thumb_image_overlay_type.split(",");for(var i in t){var n=t[i];switch(n){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}function t(e,t){e.stop(!0).animate(t,{duration:P.thumb_transition_duration,easing:P.thumb_transition_easing,queue:!1})}function i(e,i,n,r){if(!r)var r=!1;I.isFakeFullscreen()&&(r=!0);var a=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=i+"px",0!=i&&(o["border-color"]=n),r&&r===!0?(a.css(o),0==i?a.hide():a.show()):(0==i?a.stop().fadeOut(P.thumb_transition_duration):a.show().stop().fadeIn(P.thumb_transition_duration),t(a,o))}function n(e,t,i){var n=e.children(".ug-thumb-overlay"),r={};r["background-color"]=P.thumb_overlay_color,n.css(r);var a=P.thumb_transition_duration;i&&i===!0&&(a=0),t?n.stop(!0).fadeTo(a,P.thumb_overlay_opacity):n.stop(!0).fadeTo(a,0)}function r(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),a=P.thumb_transition_duration;i&&i===!0&&(a=0),t?r.stop(!0).fadeTo(a,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(a,0))}function a(e,t){if(1==S.customThumbs)return e.removeClass("ug-thumb-over"),!0;if(1==P.thumb_border_effect&&i(e,P.thumb_border_width,P.thumb_border_color,t),1==P.thumb_color_overlay_effect){var a=1==P.thumb_overlay_reverse?!1:!0;n(e,a,t)}1==P.thumb_image_overlay_effect&&r(e,!0,t)}function o(e){if(1==S.customThumbs)return e.addClass("ug-thumb-over"),!0;if(1==P.thumb_border_effect&&i(e,P.thumb_over_border_width,P.thumb_over_border_color),1==P.thumb_color_overlay_effect){var t=1==P.thumb_overlay_reverse?!0:!1;n(e,t)}1==P.thumb_image_overlay_effect&&r(e,!1)}function s(e,t){if(1==S.customThumbs)return!0;if(1==P.thumb_border_effect&&i(e,P.thumb_selected_border_width,P.thumb_selected_border_color,t),1==P.thumb_color_overlay_effect){var a=1==P.thumb_overlay_reverse?!0:!1;n(e,a,t)}1==P.thumb_image_overlay_effect&&r(e,!1,t)}function l(e){return e.hasClass("ug-thumb-selected")?!0:!1}function u(e){1==l(e)?s(e,!0):a(e,!0)}function d(){if(P.thumb_round_corners_radius<=0)return!1;var e={"border-radius":P.thumb_round_corners_radius+"px"};b.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}function _(e,t){if(!t)var t=!1;var i=jQuery(e),n=i.parent(),r=n.index(),a=v[r];if(1==a.isLoaded&&t===!1)return!1;var o=a.isLoaded;if(a.isLoaded=!0,a.isThumbImageLoaded=!0,w.scaleImageCoverParent(i,n),0==o)if(n.children(".ug-thumb-loader").hide(),i.show(),0==P.thumb_image_overlay_effect)i.fadeTo(0,1);else{1==P.thumb_image_overlay_effect&&g(i),i.fadeTo(0,0);var n=i.parent();u(n)}return!0}function g(e){var t=e.siblings("img.ug-thumb-image-overlay");if(0==t.length)return!1;var i=w.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),t.fadeTo(0,1)}function c(e){e.children(".ug-thumb-loader").hide(),e.children(".ug-thumb-error").show();var t=y.getItemByThumb(e);t.isLoaded=!0,t.isThumbImageLoaded=!1}function h(){var e=!0,t=[];S.num_thumbs_checking++;for(var i=S.num_thumbs_checking>E.thumb_max_check_times,n=0;n<v.length;n++){var r=v[n];if(1!=r.isLoaded){var a=r.objThumbImage;if(a){e=!1;var o=a.width(),s=w.getImageOriginalSize(a).width;0!=o&&void 0==s||s>0?_(a):1==i&&t.push(r.objThumbWrapper)}}}0==e&&(1==i?jQuery(t).each(function(){var e=this;c(e)}):setTimeout(h,E.timeout_thumb_check))}var p,m,f,v,b,y=this,I=new UniteGalleryMain,w=new UGFunctions,P={thumb_width:88,thumb_height:50,thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark"},S={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null},E={timeout_thumb_check:100,thumb_max_check_times:600};this.init=function(e,t){m=e.getObjects(),I=e,p=jQuery(e),f=m.g_objWrapper,v=m.g_arrItems,P=jQuery.extend(P,t)},this.setHtmlThumbs=function(t){b=t;var i=I.getNumItems();if(1==P.thumb_image_overlay_effect)var n=e();for(var r=0;i>r;r++){var a=jQuery("<div class='ug-thumb-wrapper'></div>"),o=v[r];if(1==S.customThumbs)S.funcSetCustomThumbHtml(a,o);else{var s=o.objThumbImage;if(1==P.thumb_show_loader&&s){var l="ug-thumb-loader-dark";"bright"==P.thumb_loader_type&&(l="ug-thumb-loader-bright"),a.append("<div class='ug-thumb-loader "+l+"'></div>"),a.append("<div class='ug-thumb-error' style='display:none'></div>")}if(a.append("<div class='ug-thumb-border-overlay'></div>"),a.append("<div class='ug-thumb-overlay'></div>"),s){if(s.addClass("ug-thumb-image"),1==P.thumb_image_overlay_effect){var u=s.clone().appendTo(a);u.addClass(n).removeClass("ug-thumb-image"),u.fadeTo(0,0)}a.append(s)}else a.append("<div class='ug-thumb-text1'>"+o.title+"</div>")}b.append(a),v[r].objThumbWrapper=a}},this.setHtmlProperties=function(){if(0==S.customThumbs){var e={};e.width=P.thumb_width+"px",e.height=P.thumb_height+"px",b.children(".ug-thumb-wrapper").css(e),d()}if(b.children(".ug-thumb-wrapper").each(function(){var e=jQuery(this);a(e,!0)}),0==S.customThumbs){var t={};t.width=P.thumb_width+"px",t.height=P.thumb_height+"px",b.find(".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay").css(t)}},this.getItemByThumb=function(e){var t=e.index(),i=v[t];return i},this.setThumbSelected=function(e){return 1==S.customThumbs&&e.removeClass("ug-thumb-over"),1==l(e)?!0:(e.addClass("ug-thumb-selected"),void s(e))},this.initEvents=function(){var e=b.find(".ug-thumb-wrapper");e.on("touchstart",function(){S.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),e.hover(function(){if(1==S.touchEnabled)return e.off("mouseenter").off("mouseleave"),!0;var t=jQuery(this);0==l(t)&&o(t)},function(){if(1==S.touchEnabled)return!0;var e=jQuery(this);0==l(e)&&a(e)})},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),a(e)},this.loadThumbsImages=function(){jQuery(v).each(function(){var e=this.objThumbImage;if(!e)return!1;e.get(0);e.on("load",function(){_(this,!0)}),e.on("error",function(){var t=e.parent();c(t)}),e.show()}),setTimeout(h,E.timeout_thumb_check)},this.setOptions=function(e){P=jQuery.extend(P,e)},this.setCustomThumbs=function(e){if(S.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");S.funcSetCustomThumbHtml=e},this.getOptions=function(){return P},this.getNumThumbs=function(){var e=v.length;return e}}function UGThumbsGrid(){function e(e,i){k=e.getObjects(),Q=e,M=jQuery(e),z=k.g_objWrapper,O=k.g_arrItems,R.numThumbs=O.length,u(i),R.isNavigationVertical="top"==W.grid_panes_direction||"bottom"==W.grid_panes_direction,D.init(e),t()}function t(){var e=z;null!=W.parent_container&&(e=W.parent_container),e.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),N=e.children(".ug-thumbs-grid"),H=N.children(".ug-thumbs-grid-inner"),D.setHtmlThumbs(H)}function n(){if(0==R.isHorizontal){if(0==R.gridHeight)throw new Error("You must set height before run.")}else if(0==R.gridWidth)throw new Error("You must set width before run.")}function r(){var e=Q.getSelectedItem();n(),1==R.isFirstTimeRun&&(D.setHtmlProperties(),s(),D.loadThumbsImages(),A()),c(),null!=e&&l(e.index),G.trigger(L.events.PANE_CHANGE),R.isFirstTimeRun=!1}function a(){var e=H.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerHeight(),n=R.gridWidth,r=W.grid_num_rows*i+(W.grid_num_rows-1)*W.grid_space_between_rows;R.gridHeight=r,F.setElementSize(N,n,r),F.setElementSize(H,n,r),R.innerWidth=n,R.innerHeight=r}function o(){var e=H.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=W.grid_num_cols*i+(W.grid_num_cols-1)*W.grid_space_between_cols,r=R.gridHeight;R.gridWidth=n,F.setElementSize(N,n,r),F.setElementSize(H,n,r),R.innerWidth=n,R.innerHeight=r}function s(){0==R.isHorizontal?o():a()}function l(e){var t=P(e);return-1==t?!1:void L.gotoPane(t,"scroll")}function u(e){W=jQuery.extend(W,e),D.setOptions(e)}function d(){var e=H.children(".ug-thumb-wrapper"),t=0,n=0,r=0,a=0,o=0,s=0;R.innerWidth=0,R.numPanes=1,R.arrPanes=[],R.numThumbsInPane=0,R.arrPanes.push(a);var l=e.length;for(i=0;l>i;i++){var u=jQuery(e[i]);F.placeElement(u,t,n);var d=u.outerWidth(),_=u.outerHeight();t>o&&(o=t);var g=n+_;g>s&&(s=g);var c=o+d;c>R.innerWidth&&(R.innerWidth=c),t+=d+W.grid_space_between_cols,r++,r>=W.grid_num_cols&&(n+=_+W.grid_space_between_rows,t=a,r=0),1==R.numPanes&&R.numThumbsInPane++,n+_>R.gridHeight&&(n=0,a=R.innerWidth+W.grid_space_between_cols,t=a,r=0,1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=s,N.height(R.gridHeight)),l-1>i&&(R.numPanes++,R.arrPanes.push(a)))}H.width(R.innerWidth),1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=s,N.height(s))}function _(){var e=H.children(".ug-thumb-wrapper"),t=0,n=0,r=0,a=0,o=0,s=0;R.innerWidth=0,R.numPanes=1,R.arrPanes=[],R.numThumbsInPane=0,R.arrPanes.push(o);var l=e.length;for(i=0;l>i;i++){var u=jQuery(e[i]);F.placeElement(u,t,n);var d=u.outerWidth(),_=u.outerHeight();t+=d+W.grid_space_between_cols;var g=n+_;g>r&&(r=g),a++,a>=W.grid_num_cols&&(n+=_+W.grid_space_between_rows,t=o,a=0),1==R.numPanes&&R.numThumbsInPane++,g=n+_;var c=s+R.gridHeight;g>c&&(1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=r,N.height(R.gridHeight),c=R.gridHeight),n=c+W.grid_space_between_rows,s=n,o=0,t=o,a=0,l-1>i&&(R.numPanes++,R.arrPanes.push(n)))}H.height(r),R.innerHeight=r,1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=r,N.height(r))}function g(){var e=H.children(".ug-thumb-wrapper"),t=0,n=0,r=0,a=0,o=0,s=0,l=0;R.innerWidth=0,R.numPanes=1,R.arrPanes=[],R.numThumbsInPane=0,R.arrPanes.push(r);var u=e.length;for(i=0;u>i;i++){var d=jQuery(e[i]),_=d.outerWidth(),g=d.outerHeight();t-r+_>R.gridWidth&&(l++,n=0,l>=W.grid_num_rows?(l=0,r=t,s=0,n=0,1==R.numPanes&&(R.gridWidth=a,N.width(R.gridWidth)),R.numPanes++,R.arrPanes.push(r)):(t=r,n=s+W.grid_space_between_rows)),F.placeElement(d,t,n);var c=t+_;c>a&&(a=c);var h=n+g;h>s&&(s=h),h>o&&(o=h);var c=a+_;c>R.innerWidth&&(R.innerWidth=c),t+=_+W.grid_space_between_cols,1==R.numPanes&&R.numThumbsInPane++}R.innerWidth=a,R.innerHeight=s,H.width(R.innerWidth),H.height(R.innerHeight),1==R.numPanes&&(R.gridWidth=a,R.gridHeight=o,N.width(a),N.height(o))}function c(){0==R.isHorizontal?R.isNavigationVertical?_():d():g()}function h(e){if(0>e||e>=R.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function p(e){if(e>=R.numPanes||0>e)throw new Error("Pane "+index+" doesn't exists.");return!0}function m(e){var t=y(e);return 0==t?!1:void H.css(t)}function f(e){var t=y(e);return 0==t?!1:void H.stop(!0).animate(t,{duration:W.grid_transition_duration,easing:W.grid_transition_easing,queue:!1})}function v(){var e=-R.arrPanes[R.currentPane];f(e)}function b(){return 1==R.isNavigationVertical?R.gridHeight:R.gridWidth}function y(e){var t={};return 1==R.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function I(e){var t=F.getMousePosition(e);return 1==R.isNavigationVertical?t.pageY:t.pageX}function w(){var e=F.getElementSize(H);return 1==R.isNavigationVertical?e.top:e.left}function P(e){if(0==h(e))return-1;var t=Math.floor(e/R.numThumbsInPane);return t}function S(){var e=jQuery.now(),t=e-R.startTime,i=w(),n=Math.abs(i-R.startInnerPos);return n>30?!0:n>5&&t>300?!0:!1}function E(){var e=w();diffPos=Math.abs(R.startInnerPos-e);var t=b(),i=Math.round(3*t/8);if(diffPos>=i)return!0;var n=jQuery.now(),r=n-R.startTime;return 300>r&&diffPos>25?!0:!1}function T(){if(1==S())return!0;var e=jQuery(this),t=D.getItemByThumb(e);Q.selectItem(t)}function j(e){return 1==R.numPanes?!0:1==R.touchActive?!0:(e.preventDefault(),R.touchActive=!0,R.startTime=jQuery.now(),R.startMousePos=I(e),void(R.startInnerPos=w()))}function x(e){if(0==R.touchActive)return!0;e.preventDefault();var t=I(e),i=t-R.startMousePos,n=R.startInnerPos+i,r=i>0?"prev":"next",a=R.arrPanes[R.numPanes-1];0==W.grid_carousel&&n>0&&"prev"==r&&(n/=3),0==W.grid_carousel&&-a>n&&"next"==r&&(n=R.startInnerPos+i/3),m(n)}function C(){if(0==R.touchActive)return!0;if(R.touchActive=!1,0==E())return v(),!0;var e=w(),t=e-R.startInnerPos,i=t>0?"prev":"next";"next"==i?0==W.grid_carousel&&L.isLastPane()?v():L.nextPane():0==W.grid_carousel&&L.isFirstPane()?v():L.prevPane()}function A(){D.initEvents();var e=N.find(".ug-thumb-wrapper");e.on("click touchend",T),M.on(Q.events.ITEM_CHANGE,function(){var e=Q.getSelectedItem();D.setThumbSelected(e.objThumbWrapper),l(e.index)
}),N.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",x),jQuery(window).add("body").bind("mouseup touchend",C)}var M,k,z,O,N,H,L=this,G=jQuery(this),Q=new UniteGalleryMain,F=new UGFunctions,D=new UGThumbsGeneral,W={parent_container:null,grid_panes_direction:"left",grid_num_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1};this.events={PANE_CHANGE:"pane_change"};var R={isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,isFirstTimeRun:!0};this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){D.setThumbUnselected(e)},this.isItemThumbVisible=function(e){var t=e.index,i=P(t);return i==R.currentPane?!0:!1},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){var t=D.getOptions(),i=t.thumb_height,n=D.getNumThumbs(),r=Math.ceil(n/W.grid_num_cols),a=r*i+(r-1)*W.grid_space_between_rows,o=Math.ceil(a/e);return o},this.getNumPanesEstimationByWidth=function(e){var t=D.getOptions(),i=t.thumb_width,n=D.getNumThumbs(),r=Math.ceil(n/W.grid_num_rows),a=r*i+(r-1)*W.grid_space_between_cols,o=Math.ceil(a/e);return o},this.getElement=function(){return N},this.getSize=function(){var e=F.getElementSize(N);return e},this.getNumPanes=function(){return R.numPanes},this.isFirstPane=function(){return 0==R.currentPane?!0:!1},this.isLastPane=function(){return R.currentPane==R.numPanes-1?!0:!1},this.getPaneInfo=function(){var e={pane:R.currentPane,total:R.numPanes};return e},this.setWidth=function(e){R.gridWidth=e,R.isHorizontal=!0},this.setMaxWidth=function(e){R.gridWidth=e,R.isMaxWidth=!0,R.isHorizontal=!0},this.setHeight=function(e){R.gridHeight=e,R.isHorizontal=!1},this.setMaxHeight=function(e){R.gridHeight=e,R.isMaxHeight=!0,R.isHorizontal=!1},this.gotoPane=function(e){if(0==p(e))return!1;if(e==R.currentPane)return!1;var t=-R.arrPanes[e];R.currentPane=e,f(t),G.trigger(L.events.PANE_CHANGE)},this.nextPane=function(){var e=R.currentPane+1;if(e>=R.numPanes){if(0==W.grid_carousel)return!0;e=0}L.gotoPane(e,"next")},this.prevPane=function(){var e=R.currentPane-1;return 0>e&&(e=R.numPanes-1,0==W.grid_carousel)?!1:void L.gotoPane(e,"prev")},this.setNextPaneButton=function(e){return F.setButtonOnClick(e,L.nextPane),1==W.grid_carousel?!0:(L.isLastPane()&&e.addClass("ug-button-disabled"),void G.on(L.events.PANE_CHANGE,function(){L.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.setPrevPaneButton=function(e){return F.setButtonOnClick(e,L.prevPane),1==W.grid_carousel?!0:(L.isFirstPane()&&e.addClass("ug-button-disabled"),void G.on(L.events.PANE_CHANGE,function(){L.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.init=function(t,i){e(t,i)},this.run=function(){r()}}function UGThumbsStrip(){function e(e,t){w=e.getObjects(),A=e,I=jQuery(e),P=w.g_objWrapper,S=w.g_arrItems,O=jQuery.extend(O,t),k=O.strip_vertical_type,1==k&&(O=jQuery.extend(O,L),O=jQuery.extend(O,t)),z.init(e,t)}function t(){z.setHtmlProperties(),n(),s(),o(),0==N.isRunOnce&&(1==O.strip_control_touch&&(x=new UGTouchThumbsControl,x.init(C)),1==O.strip_control_avia&&(j=new UGAviaControl,j.init(C)),h(),z.loadThumbsImages(),f()),N.isRunOnce=!0}function n(){var e=T.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight();0==k?(H.thumbSize=i,H.thumbSecondSize=n,H.stripSize=E.width(),H.stripInnerSize=T.width()):(H.thumbSize=n,H.thumbSecondSize=i,H.stripSize=E.height(),H.stripInnerSize=T.height())}function r(){var e=T.children(".ug-thumb-wrapper"),t=0,n=0;for(i=0;i<e.length;i++){var r=jQuery(e[i]);M.placeElement(r,t,n),t+=r.outerWidth()+O.strip_space_between_thumbs}var a=t-O.strip_space_between_thumbs;T.width(a),H.stripInnerSize=a}function a(){var e=T.children(".ug-thumb-wrapper"),t=0,n=0;for(i=0;i<e.length;i++){var r=jQuery(e[i]);M.placeElement(r,n,t),t+=r.outerHeight()+O.strip_space_between_thumbs}var a=t-O.strip_space_between_thumbs;T.height(a),H.stripInnerSize=a}function o(){0==k?r():a()}function s(){if(0==k){var e=H.thumbSecondSize,t={};t.height=e+"px";var i={};i.height=e+"px"}else{var n=H.thumbSecondSize,t={};t.width=n+"px";var i={};i.width=n+"px"}E.css(t),T.css(i)}function l(e){var t=C.getInnerStripPos(),i=t+e;i=C.fixInnerStripLimits(i),C.positionInnerStrip(i,!0)}function u(e){var t=y(e),i=-1*t.min;i=C.fixInnerStripLimits(i),C.positionInnerStrip(i,!0)}function d(e){var t=y(e),i=-1*t.max+H.stripSize;i=C.fixInnerStripLimits(i),C.positionInnerStrip(i,!0)}function _(e){if(0==v())return!1;var t=b(),i=y(e);if(i.min<t.minPosThumbs){var n=e.prev();u(n.length?n:e)}else if(i.max>t.maxPosThumbs){var r=e.next();d(r.length?r:e)}}function g(){var e=A.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&_(t)}function c(){if(0==v())return!1;var e=C.getInnerStripPos(),t=C.fixInnerStripLimits(e);e!=t&&C.positionInnerStrip(t,!0)}function h(){1==v()?(j&&j.enable(),x&&x.enable()):(j&&j.disable(),x&&x.disable())}function p(){return v()?!1:void(0==k?M.placeElement(T,O.strip_thumbs_align,0):M.placeElement(T,0,O.strip_thumbs_align))}function m(e){if(C.isTouchMotionActive()){var t=x.isSignificantPassed();if(1==t)return!0}var i=z.getItemByThumb(e);A.selectItem(i)}function f(){z.initEvents();var e=E.find(".ug-thumb-wrapper");e.on("click touchend",function(){var e=jQuery(this);m(e)}),I.on(A.events.ITEM_CHANGE,function(){var e=A.getSelectedItem();z.setThumbSelected(e.objThumbWrapper),_(e.objThumbWrapper)})}function v(){return 0==k?T.width()>E.width()?!0:!1:T.height()>E.height()?!0:!1}function b(){var e={},t=C.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+H.stripSize-1,e}function y(e){var t={},i=e.position();return 0==k?(t.min=i.left,t.max=i.left+H.thumbSize):(t.min=i.top,t.max=i.top+H.thumbSize),t}var I,w,P,S,E,T,j,x,C=this,A=new UniteGalleryMain,M=new UGFunctions,k=!1,z=new UGThumbsGeneral,M=new UGFunctions,O={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0},N={isRunOnce:!1,is_placed:!1},H={stripSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove"};var L={strip_thumbs_align:"top"};this.setHtml=function(e){if(!e){var e=P;null!=O.parent_container&&(e=O.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),E=e.children(".ug-thumbs-strip"),T=E.children(".ug-thumbs-strip-inner"),z.setHtmlThumbs(T)},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){t()},this.fixInnerStripLimits=function(e){var t,i=0;return t=0==k?-(T.width()-E.width()):-(T.height()-E.height()),e>i&&(e=i),t>e&&(e=t),e},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==k)var i={left:e+"px"};else var i={top:e+"px"};0==t?(T.css(i),C.triggerStripMoveEvent()):(C.triggerStripMoveEvent(),T.stop(!0).animate(i,{duration:O.strip_scroll_to_thumb_duration,easing:O.strip_scroll_to_thumb_easing,queue:!1,progress:function(){C.triggerStripMoveEvent()},always:function(){C.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(C).trigger(C.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!x)return!1;var e=x.isTouchActive();return e},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*C.getInnerStripPos();if(0==k)var r=n+E.width(),a=i.left,o=i.left+t.width();else var r=n+E.height(),a=i.top,o=i.top+t.height();var s=!1;return o>=n&&r>=a&&(s=!0),s},this.getInnerStripPos=function(){return 0==k?T.position().left:T.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0,e.minPos=0==k?-(T.width()-E.width()):-(T.height()-E.height()),e},this.scrollForeward=function(){l(-H.stripSize)},this.scrollBack=function(){l(H.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){O=jQuery.extend(O,e),z.setOptions(e)},this.setSizeVertical=function(e){if(0==k)throw new Error("setSizeVertical error, the strip size is not vertical");var t=H.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",E.css(i);var n={};n.width=t+"px",n.left="0px",n.top="0px",T.css(n),N.is_placed=!0,h()},this.setSizeHorizontal=function(e){if(0==k)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=H.thumbSecondSize,i={};i.width=e+"px",i.height=t+"px",E.css(i);var n={};n.height=t+"px",n.left="0px",n.top="0px",T.css(n),N.is_placed=!0,h()},this.setPosition=function(e,t,i,n){M.placeElement(E,e,t,i,n)},this.resize=function(e){0==k?E.width(e):E.height(e),H.stripSize=e,h(),c(),p(),g()},this.setThumbUnselected=function(e){z.setThumbUnselected(e)},this.setCustomThumbs=function(e){z.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=z.getOptions(),t=jQuery.extend(O,e),i={g_gallery:A,g_objGallery:I,g_objWrapper:P,g_arrItems:S,g_objStrip:E,g_objStripInner:T,g_aviaControl:j,g_touchThumbsControl:x,isVertical:k,g_options:t};return i},this.getSizeAndPosition=function(){var e=M.getElementSize(E);return e},this.getHeight=function(){var e=E.outerHeight();return e},this.getWidth=function(){var e=E.outerWidth();return e},this.getSizes=function(){return H},this.isVertical=function(){return k},this.isPlaced=function(){return N.is_placed},this.isMoveEnabled=function(){var e=v();return e}}function UGTouchSliderControl(){function e(e){if(!e)var e=f.getSlidesReference();var t=b.getElementSize(e.objCurrentSlide),i=-t.left,n=b.getElementSize(h),r=i-n.left;return r}function t(){var t=f.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=n)return!0;{var r=Math.abs(y.lastMouseX-y.startMouseX);Math.abs(y.lastMouseY-y.startMouseY)}if(20>r)return!1;var a=jQuery.now(),o=a-y.startTime;return 500>o?!0:!1}function i(e){if(1==f.isInnerInPlace())return!1;if(p.trigger(f.events.BEFORE_RETURN),!e)var e=f.getSlidesReference();var t=b.getElementSize(e.objCurrentSlide),i=-t.left;h.animate({left:i+"px"},{duration:m.slider_transition_return_speed,easing:m.slider_transition_continuedrag_easing,queue:!1})}function n(e){f.switchSlideNums(e),f.placeNabourItems()}function r(){var t=f.getSlidesReference(),r=e(t);if(0==r)return!1;var a=r>0?"left":"right",o=!1;switch(a){case"right":if(f.isSlideHasItem(t.objPrevSlide))var s=b.getElementSize(t.objPrevSlide),l=-s.left;else o=!0;break;case"left":if(f.isSlideHasItem(t.objNextSlide))var u=b.getElementSize(t.objNextSlide),l=-u.left;else o=!0}1==o?i(t):h.stop().animate({left:l+"px"},{duration:m.slider_transition_continuedrag_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,always:function(){n(a)}})}function a(e){var t=y.lastMouseX-y.startMouseX;if(0==t)return!0;var i=0>t?"left":"right",n=f.getObjZoom();if(n){var r=n.isPanEnabled(e,i);if(1==r)return y.isInitDataValid=!1,!0;if(0==y.isInitDataValid)return o(e),!0}var a=y.startPosx+t;if(t>0&&a>0)a/=3;else if(0>t){var s=a+h.width(),l=c.width();l>s&&(a=y.startPosx+t/3)}h.css("left",a+"px")}function o(e){var t=b.getMousePosition(e);y.startMouseX=t.pageX,y.startMouseY=t.pageY,y.lastMouseX=y.startMouseX,y.lastMouseY=y.startMouseY,y.startTime=jQuery.now();var i=b.getArrTouches(e);y.startArrTouches=b.getArrTouchPositions(i);var n=b.getElementSize(h);y.startPosx=n.left,y.isInitDataValid=!0}function s(){y.touch_active=!1}function l(e,t){y.touch_active=!0,o(t)}function u(e){e.preventDefault(),1==f.isAnimating()&&h.stop(!0,!0);var t=b.getArrTouches(e);return t.length>1?(1==y.touch_active&&s("1"),!0):1==y.touch_active?!0:void l("1",e)}function d(e){if(0==y.touch_active)return!0;if(0==e.buttons)return s("2"),r(),!0;e.preventDefault();var t=b.getMousePosition(e);y.lastMouseX=t.pageX,y.lastMouseY=t.pageY,a(e)}function _(e){var n=b.getArrTouches(e),a=n.length,o=f.isInnerInPlace();if(1==o&&0==y.touch_active&&0==a)return!0;if(0==a&&1==y.touch_active){1==o&&jQuery(v).trigger(v.events.CLICK),s("3");var u=t();1==u?r():i()}else 1==a&&0==y.touch_active&&l("2",e)}function g(){c.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",_)}var c,h,p,m,f=new UGSlider,v=this,b=new UGFunctions;this.events={CLICK:"click"};var m={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},y={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0};this.isTapEventOccured=function(t){var i=b.getArrTouches(t),n=i.length;if(0!=n||0!=y.lastNumTouches)return y.lastNumTouches=n,!1;y.lastNumTouches=n;var r=f.getSlidesReference(),a=(e(r),Math.abs(y.lastMouseX-y.startMouseX)),o=Math.abs(y.lastMouseY-y.startMouseY),s=jQuery.now(),l=s-y.startTime;return 20>a&&50>o&&500>l?!0:!1},this.init=function(e,t){f=e,p=jQuery(f),g_objects=e.getObjects(),c=g_objects.g_objSlider,h=g_objects.g_objInner,m=jQuery.extend(m,t),g()}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=S.lastTime-S.startTime,t.lastActiveTime=e-S.buttonReleaseTime,t.passedDistance=S.lastPos-S.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){P.thumb_touch_slowFactor=w.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==I?w.getMousePosition(e).pageX:w.getMousePosition(e).pageY}function n(e){var t=S.mousePos-e,i=S.innerPos-t,n=h.getInnerStripLimits();if(i>n.maxPos){var r=i-n.maxPos;i=n.maxPos+r/3}if(i<n.minPos){var r=n.minPos-i;i=n.minPos-r/3}h.positionInnerStrip(i)}function r(e){var t=h.getInnerStripPos();S.mousePos=e,S.innerPos=t,S.lastPortionPos=t,S.lastDeltaTime=0,S.lastDeltaPos=0,S.startTime=jQuery.now(),S.startPos=S.innerPos,S.lastTime=S.startTime,S.lastPos=S.startPos,S.speed=0}function a(){var e=jQuery.now(),t=e-S.lastTime;t>=P.touch_portion_time&&(S.lastDeltaTime=e-S.lastTime,S.lastDeltaTime>P.touch_portion_time&&(S.lastDeltaTime=P.touch_portion_time),S.lastDeltaPos=S.lastPos-S.lastPortionPos,S.lastPortionPos=S.lastPos,S.lastTime=e)}function o(){var e=P.thumb_touch_slowFactor,t=P.minDeltaTime,i=P.minPath,n=h.getInnerStripPos(),r=jQuery.now(),a=r-S.lastTime,o=n-S.lastPortionPos;t>a&&S.lastDeltaTime>0&&(a=S.lastDeltaTime,o=S.lastDeltaPos+o),t>a&&(a=t);var l=o>0?1:-1,u=0;a>0&&(u=o/a);var d=u*u/(2*e)*l;Math.abs(d)<=i&&(d=0);var _=h.getInnerStripPos(),g=_+d,c=h.fixInnerStripLimits(g),p=h.getInnerStripLimits(),m=P.limitsBreakAddition,f=!1,v=c;if(g>p.maxPos&&(f=!0,c=m,m>g&&(c=g)),g<p.minPos){f=!0;var y=p.minPos-m;c=y,g>y&&(c=g)}var w=c-_,E=Math.abs(Math.round(u/e));if(0!=d&&(E=E*w/d),_!=c){var T={left:c+"px"};1==I&&(T={top:c+"px"}),b.animate(T,{duration:E,easing:P.animationEasing,queue:!0,progress:s})}if(1==f){var j=P.returnAnimateSpeed,x={left:v+"px"};1==I&&(x={top:v+"px"}),b.animate(x,{duration:j,easing:P.returnAnimationEasing,queue:!0,progress:s})}}function s(){S.lastPos=h.getInnerStripPos(),h.triggerStripMoveEvent()}function l(){return 1==S.loop_active?!0:(S.loop_active=!0,void(S.handle=setInterval(a,10)))}function u(e){if(0==S.loop_active)return!0;if(e){var t=i(e);o(t)}S.loop_active=!1,S.handle=clearInterval(S.handle)}function d(e){return 0==S.isControlEnabled?!0:(S.buttonReleaseTime=jQuery.now(),0==S.touch_active?(u(e),!0):(e.preventDefault(),S.touch_active=!1,u(e),void v.removeClass("ug-dragging")))}function _(e){if(0==S.isControlEnabled)return!0;e.preventDefault(),S.touch_active=!0;var t=i(e);b.stop(!0),r(t),l(),v.addClass("ug-dragging")}function g(e){if(0==S.isControlEnabled)return!0;if(0==S.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return S.touch_active=!1,u(e),!0;var t=i(e);S.lastPos=h.getInnerStripPos(),n(t),a()}function c(){v.bind("mousedown touchstart",_),jQuery(window).add("body").bind("mouseup touchend",d),jQuery("body").bind("mousemove touchmove",g)}var h,p,m,f,v,b,y,I,w=new UGFunctions,P={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},S={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){S.isControlEnabled=!0},this.disable=function(){S.isControlEnabled=!1},this.init=function(e){h=e,f=e.getObjects(),p=f.g_gallery,m=f.g_objGallery,v=f.g_objStrip,b=f.g_objStripInner,y=f.g_options,I=f.isVertical,t(),c()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300?!0:t.passedDistanceAbs>30?!0:!1},this.isTouchActive=function(){if(1==S.touch_active)return!0;if(1==b.is(":animated"))return!0;var t=e();return t.lastActiveTime<50?!0:!1}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,a,o){r=null,s=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+n+";height:"+a+";' data-video-width='"+n+"' data-video-height='"+a+"'>&nbsp;</div>";jQuery("#"+e).html(u),r=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:a,container:l,autoPlay:o}),s=!0,i()}function i(){r.bind("play",function(){o.trigger(a.events.START_PLAYING)}),r.bind("pause",function(){o.trigger(a.events.STOP_PLAYING)}),r.bind("end",function(){o.trigger(a.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,r,a=this,o=jQuery(this),s=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded?!0:e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0))},this.doCommand=function(e){if(null==r)return!1;if(0==s)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.putVideo=function(i,r,a,o,s){return e()?(t(i,r,a,o,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,a,o,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return s&&r?!0:!1}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,o,s){r=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",u+=s===!0?"&amp;auto_play=true":"&amp;auto_play=false";var d="<iframe id='"+l+"' src="+u+" width='"+n+"' height='"+o+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d),r=SC.Widget(l),r.bind(SC.Widget.Events.READY,function(){r&&(g_isPlayerReady=!0,i())}),a=e}function i(){r.bind(SC.Widget.Events.PLAY,function(){s.trigger(o.events.START_PLAYING)}),r.bind(SC.Widget.Events.PAUSE,function(){s.trigger(o.events.STOP_PLAYING)}),r.bind(SC.Widget.Events.FINISH,function(){s.trigger(o.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,r,a,o=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded?!0:e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0))},this.putSound=function(i,r,a,o,s){return e()?(t(i,r,a,o,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,a,o,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,r=null,a&&(jQuery("#"+a).html(""),a=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,a,o){r=null,g_isPlayerReady=!1;var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/js/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/js/silverlightmediaelement.xap",u=e+"_video",d="";o&&o===!0&&(d="autoplay='autoplay'");var _="";t.posterImage&&(_="poster='"+t.posterImage+"'");var g="<video id='"+u+"' width='"+n+"' height='"+a+"'  controls='controls' preload='none' "+d+" "+_+">";""!=t.mp4&&(g+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(g+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(g+="<source type='video/ogg' src='"+t.ogv+"' />"),g+="<object width='"+n+"' height='"+a+"' type='application/x-shockwave-flash' data='"+s+"'>",g+="<param name='movie' value='"+s+"' />",g+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",g+="</object>",g+="</video>",jQuery("#"+e).html(g),new MediaElement(u,{enablePluginDebug:!1,flashName:s,silverlightName:l,success:function(e){g_isPlayerReady=!0,r=e,0==o&&r.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(r,"play",function(){o.trigger(a.events.START_PLAYING)}),g_ugFunctions.addEvent(r,"pause",function(){o.trigger(a.events.STOP_PLAYING)}),g_ugFunctions.addEvent(r,"ended",function(){o.trigger(a.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,r,a=this,o=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded?!0:e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/js/mediaelement.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/css/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0))},this.putVideo=function(i,r,a,o,s){return e()?(t(i,r,a,o,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,a,o,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,a,o){s=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";o===!0&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var d="<iframe src="+u+" width='"+n+"' height='"+a+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d);var _=jQuery("#"+e+" iframe")[0];s=Froogaloop(_),s.addEvent("ready",function(){s&&(l=!0,i())}),r=e}function i(){return s?(s.addEvent("cuechange",function(){1==u&&a.play()}),s.addEvent("play",function(){o.trigger(a.events.START_PLAYING)}),s.addEvent("pause",function(){o.trigger(a.events.STOP_PLAYING)}),void s.addEvent("finish",function(){o.trigger(a.events.STOP_PLAYING)})):!1}this.isAPILoaded=!1;var n,r,a=this,o=jQuery(this),s=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded?!0:e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0))},this.doCommand=function(e){if(null==s)return!1;if(0==l)return!1;switch(e){default:s.api(e)}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){s&&(s.api("unload"),s=null,l=!1),r&&jQuery("#"+r).html("")},this.putVideo=function(i,r,a,o,s){return e()?(t(i,r,a,o,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,a,o,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return l&&s?!0:!1},this.changeVideo=function(e,t){return 0==a.isPlayerReady()?!1:(u=t,void s.api("loadVideo",e))},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,r,o,u){s&&l&&s.destroy();var d={controls:2,showinfo:1,rel:0};u===!0&&(d.autoplay=1),l=!1,s=new YT.Player(e,{height:o,width:r,videoId:t,playerVars:d,events:{onReady:i,onStateChange:n}}),a=e}function t(){return"undefined"!=typeof YT&&"undefined"!=typeof YT.Player?!0:!1}function i(){l=!0}function n(){var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(o.events.START_PLAYING);break;default:d==YT.PlayerState.PLAYING&&u.trigger(o.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var r,a,o=this,s=null,l=!1,u=jQuery(this),d=-1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.putVideo=function(i,n,a,o,s){return t()?(e(i,n,a,o,s),!0):(this.loadAPI(),void(r=setInterval(function(){t()&&(e(i,n,a,o,s),clearInterval(r))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded?!0:"undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("www.youtube.com/player_api",!0),void(g_ugYoutubeAPI.isAPILoaded=!0))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case"play":s.playVideo();break;case"pause":s.pauseVideo();break;case"seek":s.seekTo(t);break;case"stopToBeginning":var i=s.getPlayerState();switch(s.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){o.doCommand("play")},this.pause=function(){o.doCommand("pause")},this.destroy=function(){s&&(l=!1,s.destroy())},this.stopToBeginning=function(){o.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0==o.isPlayerReady()?!1:void(t&&1==t?s.loadVideoById(e,0,"default"):s.cueVideoById(e,0,"default"))},this.isPlayerReady=function(){return l&&s?!0:!1},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){c.hide()}function t(){d&&d.hide()}function i(){d&&d.show()}function n(){d&&(p.setButtonMobileReady(d),p.setButtonOnClick(d,e)),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(f).on(f.events.START_PLAYING,t),jQuery(f).on(f.events.STOP_PLAYING,i),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i)}function r(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":m.pause(),s.hide();break;case"vimeo":f.pause(),f.destroy(),l.hide();break;case"html5":v.pause(),u.hide();break;case"soundcloud":b.pause(),b.destroy(),_.hide();break;case"wistia":y.pause(),g.hide()}}}var a,o,s,l,u,d,_,g,c=this,h=jQuery(this),p=new UGFunctions,m=new UGYoutubeAPI,f=new UGVimeoAPI,v=new UGHtml5MediaAPI,b=new UGSoundCloudAPI,y=new UGWistiaAPI,I={};this.events={SHOW:"show",HIDE:"hide"};var w={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(a=i,!a)throw new Error("missing gallery ID for video player, it's a must!");I=jQuery.extend(I,e),t&&1==t&&(w.standAloneMode=!0)},this.setHtml=function(e){w.youtubeInnerID=a+"_youtube_inner",w.vimeoPlayerID=a+"_videoplayer_vimeo",w.html5PlayerID=a+"_videoplayer_html5",w.wistiaPlayerID=a+"_videoplayer_wistia",w.soundCloudPlayerID=a+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+w.youtubeInnerID+"'></div></div>",t+="<div id='"+w.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+w.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+w.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+w.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==w.standAloneMode&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),o=e.children(".ug-videoplayer"),s=o.children(".ug-videoplayer-youtube"),l=o.children(".ug-videoplayer-vimeo"),u=o.children(".ug-videoplayer-html5"),_=o.children(".ug-videoplayer-soundcloud"),g=o.children(".ug-videoplayer-wistia"),0==w.standAloneMode&&(d=o.children(".ug-videoplayer-button-close"))},this.initEvents=function(){n()},this.setSize=function(e,t){o.height(t),o.width(e),d&&p.placeElement(d,"right","top")},this.getObject=function(){return o},this.show=function(){return 1==c.isVisible()?!0:(o.show(),d&&d.show(),void h.trigger(c.events.SHOW))},this.hide=function(){return 0==c.isVisible()?!0:(r(),o.hide(),void h.trigger(c.events.HIDE))},this.isVisible=function(){return o.is(":visible")},this.playYoutube=function(e,t){if("undefined"==typeof t)var t=!0;r("youtube"),s.show(),1==m.isPlayerReady()&&1==w.standAloneMode?m.changeVideo(e,t):m.putVideo(w.youtubeInnerID,e,"100%","100%",t)},this.playVimeo=function(e,t){if("undefined"==typeof t)var t=!0;r("vimeo"),l.show(),f.isPlayerReady()&&1==w.standAloneMode?f.changeVideo(e,t):f.putVideo(w.vimeoPlayerID,e,"100%","100%",t)},this.playHtml5Video=function(e,t,i,n,a){if("undefined"==typeof a)var a=!0;r("html5"),u.show();var o={ogv:e,webm:t,mp4:i,posterImage:n};v.putVideo(w.html5PlayerID,o,"100%","100%",a)},this.playSoundCloud=function(e,t){if("undefined"==typeof t)var t=!0;r("soundcloud"),_.show(),b.putSound(w.soundCloudPlayerID,e,"100%","100%",t)},this.playWistia=function(e,t){if("undefined"==typeof t)var t=!0;r("wistia"),g.show(),y.putVideo(w.wistiaPlayerID,e,"100%","100%",t)}}function UGZoomSliderControl(){function e(e,t){P=e,w=jQuery(P),g_objects=e.getObjects(),y=g_objects.g_objSlider,I=g_objects.g_objInner,E=jQuery.extend(E,t),b()}function t(){var e=P.getScaleMode();return"fill"==e&&(e="fit"),e}function i(){var e=jQuery.now(),i=e-T.storeImageLastTime;if(20>i)return!1;var n=P.getSlidesReference();if(T.objSlide=n.objCurrentSlide,T.objImage=n.objCurrentSlide.find("img"),0==T.objImage.length)return!1;T.objImageSize=S.getElementSize(T.objImage),T.objParent=T.objImage.parent(),T.objParentSize=S.getElementSize(T.objParent);var r=t();T.objFitImageSize=S.getImageInsideParentDataByImage(T.objImage,r);var e=jQuery.now();return T.storeImageLastTime=e,!0}function n(e,i){var n=P.getSlidesReference(),r=n.objCurrentSlide.find("img"),a=t();w.trigger(P.events.ZOOM_START);var o=!0;if("back"==e){var s=S.getImageOriginalSize(r);S.scaleImageFitParent(r,s.width,s.height,a)}else{var l="in"==e?!0:!1;o=S.zoomImageInsideParent(r,l,E.slider_zoom_step,i,a,E.slider_zoom_max_ratio)}1==o&&(w.trigger(P.events.ZOOMING),w.trigger(P.events.ZOOM_CHANGE),w.trigger(P.events.ZOOM_END))}function r(e,t,i){var n=S.getArrTouches(t);if(i===!0){if(1!=n.length)return!1}else if(n.length>1)return!1;return S.isElementBiggerThenParent(e)?!0:!1}function a(e){var t=S.getMousePosition(e);T.startMouseX=t.pageX,T.startMouseY=t.pageY,T.lastMouseX=T.startMouseX,T.lastMouseY=T.startMouseY,T.startImageX=T.objImageSize.left,T.startImageY=T.objImageSize.top,T.panXActive=T.objImageSize.width>T.objParentSize.width,T.panYActive=T.objImageSize.height>T.objParentSize.height}function o(e){T.isPanActive=!0,a(e)}function s(e){if(void 0==T.objImage||0==T.objImage.length)return!0;var t=S.getMousePosition(e),i=(t.pageX-T.startMouseX,t.pageY-T.startMouseY,t.pageX-T.lastMouseX),n=t.pageY-T.lastMouseY,r=0>i?"left":"right",a=0>n?"up":"down";
T.lastMouseX=t.pageX,T.lastMouseY=t.pageY;var o=S.getElementSize(T.objImage);0==T.panYActive?n=0:"down"==a&&o.top>0?n/=3:"up"==a&&o.bottom<T.objParentSize.height&&(n/=3),0==T.panXActive||0==P.isInnerInPlace()?i=0:"right"==r&&o.left>0?i/=3:"left"==r&&o.right<T.objParentSize.width&&(i/=3);var s=o.left+i,l=o.top+n;S.placeElement(T.objImage,s,l)}function l(){var e=!1,t=!1,i=0,n=0,r=S.getElementSize(T.objImage),a=S.getElementCenterPosition(T.objImage);T.panXActive=T.objImageSize.width>T.objParentSize.width,T.panYActive=T.objImageSize.height>T.objParentSize.height,1==T.panYActive?r.top>0?(n=0,t=!0):r.bottom<T.objParentSize.height&&(n=T.objParentSize.height-r.height,t=!0):r.top!=a.top&&(t=!0,n=a.top),1==T.panXActive?r.left>0?(i=0,e=!0):r.right<T.objParentSize.width&&(i=T.objParentSize.width-r.width,e=!0):r.left!=a.left&&(e=!0,i=a.left);var o={};1==t&&(o.top=n+"px"),1==e&&(o.left=i+"px"),(1==t||1==e)&&T.objImage.animate(o,{duration:E.slider_zoom_return_pan_duration,easing:E.slider_zoom_return_pan_easing,queue:!1})}function u(){return T.objImage&&T.objImage.is(":animated")?!0:!1}function d(e){T.isZoomActive=!0,T.startDistance=S.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==T.startDistance&&(T.startDistance=1),T.startMiddlePoint=S.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),T.objImageSize=S.getElementSize(T.objImage),T.startImageX=T.objImageSize.left,T.startImageY=T.objImageSize.top,T.imageOrientPoint=S.getElementLocalPoint(T.startMiddlePoint,T.objImage);var t=S.isPointInsideElement(T.imageOrientPoint,T.objImageSize);0==t&&(T.imageOrientPoint=S.getElementCenterPoint(T.objImage)),w.trigger(P.events.ZOOM_START)}function _(e){if(0==T.isZoomActive)return!1;var t=S.getArrTouches(e);2!=t.length&&(T.isZoomActive=!1,w.trigger(P.events.ZOOM_END))}function g(e){if(1==T.isZoomActive)return!0;var t=S.getArrTouches(e);return 2!=t.length?!0:void d(t)}function c(e){var t=S.getArrTouches(e),i=S.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),n=i/T.startDistance,r=S.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),a=T.objImageSize.width*n,o=T.objImageSize.height*n,s=S.getImageOriginalSize(T.objImage),l=1;if(s.width>0&&(l=a/s.width),l>E.slider_zoom_max_ratio)return!0;panX=-(T.imageOrientPoint.x*n-T.imageOrientPoint.x),panY=-(T.imageOrientPoint.y*n-T.imageOrientPoint.y);var u=r.x-T.startMiddlePoint.x,d=r.y-T.startMiddlePoint.y,_=T.startImageX+panX+u,g=T.startImageY+panY+d;S.setElementSizeAndPosition(T.objImage,_,g,a,o),w.trigger(P.events.ZOOMING),w.trigger(P.events.ZOOM_CHANGE)}function h(){if(void 0==T.objImage||0==T.objImage.length)return!0;var e=S.getElementSize(T.objImage);if(e.width<T.objFitImageSize.imageWidth){T.objImage.css({position:"absolute",margin:"none"});var t={top:T.objFitImageSize.imageTop+"px",left:T.objFitImageSize.imageLeft+"px",width:T.objFitImageSize.imageWidth+"px",height:T.objFitImageSize.imageHeight+"px"};T.objImage.animate(t,{duration:E.slider_zoom_return_pan_duration,easing:E.slider_zoom_return_pan_easing,queue:!1})}else l()}function p(e){if(0==P.isCurrentSlideType("image"))return!0;i();return void 0==T.objImage||0==T.objImage.length?!0:(e.preventDefault(),1==u()&&T.objImage.stop(!0),1==T.isZoomActive?_(e):g(e),void(1==T.isZoomActive?T.isPanActive=!1:1==r(T.objImage,e)&&1==T.isZoomedOnce&&o(e)))}function m(e){if(0==P.isCurrentSlideType("image"))return!0;var t=jQuery(e.target);if(1==t.data("ug-button"))return!1;i();if(void 0==T.objImage||0==T.objImage.length)return!0;var n=T.isPanActive,a=T.isZoomActive;if(0==P.isInnerInPlace())return T.isZoomActive=!1,T.isPanActive=!1,!0;if(1==T.isZoomActive?_(e):g(e),1==T.isZoomActive)0==T.isPanActive;else{var s=r(T.objImage,e,!0);1==T.isPanActive?T.isPanActive=!1:1==s&&o(e)}(n||a)&&0==T.isZoomActive&&0==T.isPanActive&&h()}function f(e){return 0==P.isCurrentSlideType("image")?!0:void(1==T.isZoomActive?c(e):1==T.isPanActive&&s(e))}function v(e,t){if(0==P.isCurrentSlideType("image"))return!0;e.preventDefault();var i=t>0,r=S.getMousePosition(e),a=1==i?"in":"out";n(a,r)}function b(){y.on("mousewheel",v),y.bind("mousedown touchstart",p),jQuery("body").bind("mousemove touchmove",f),jQuery(window).add("body").bind("mouseup touchend",m),w.bind(P.events.BEFORE_RETURN,function(){h()}),w.bind(P.events.ITEM_CHANGED,function(){T.isZoomedOnce=!1}),w.bind(P.events.ZOOM_CHANGE,function(){T.isZoomedOnce=!0})}var y,I,w,P=new UGSlider,S=new UGFunctions,E={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},T={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==T.objImage||0==T.objImage.length)return!1;if(0==T.isZoomedOnce)return!1;if(0==r(T.objImage,e))return!1;if(0==P.isInnerInPlace())return!1;if("left"==t){if(T.objImageSize.right<=T.objParentSize.width)return!1}else if(T.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),u=0,d=0,_=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(_=-1*o.detail),"wheelDelta"in o&&(_=o.wheelDelta),"wheelDeltaY"in o&&(_=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*_,_=0),u=0===_?d:_,"deltaY"in o&&(_=-1*o.deltaY,u=_),"deltaX"in o&&(d=o.deltaX,0===_&&(u=-1*d)),0!==_||0!==d){if(1===o.deltaMode){var c=e.data(this,"mousewheel-line-height");u*=c,_*=c,d*=c}else if(2===o.deltaMode){var h=e.data(this,"mousewheel-page-height");u*=h,_*=h,d*=h}return g=Math.max(Math.abs(_),Math.abs(d)),(!a||a>g)&&(a=g,n(o,g)&&(a/=40)),n(o,g)&&(u/=40,d/=40,_/=40),u=Math[u>=1?"floor":"ceil"](u/a),d=Math[d>=1?"floor":"ceil"](d/a),_=Math[_>=1?"floor":"ceil"](_/a),t.deltaX=d,t.deltaY=_,t.deltaFactor=a,t.deltaMode=0,s.unshift(t,u,d,_),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){a=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=o.length;u;)e.event.fixHooks[o[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,r){return jQuery.easing[jQuery.easing.def](e,t,i,n,r)},easeInQuad:function(e,t,i,n,r){return n*(t/=r)*t+i},easeOutQuad:function(e,t,i,n,r){return-n*(t/=r)*(t-2)+i},easeInOutQuad:function(e,t,i,n,r){return(t/=r/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,r){return n*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,n,r){return n*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,r){return(t/=r/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,r){return n*(t/=r)*t*t*t+i},easeOutQuart:function(e,t,i,n,r){return-n*((t=t/r-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,r){return(t/=r/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,r){return n*(t/=r)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,r){return n*((t=t/r-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,r){return n*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+i},easeInExpo:function(e,t,i,n,r){return 0==t?i:n*Math.pow(2,10*(t/r-1))+i},easeOutExpo:function(e,t,i,n,r){return t==r?i+n:n*(-Math.pow(2,-10*t/r)+1)+i},easeInOutExpo:function(e,t,i,n,r){return 0==t?i:t==r?i+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+i},easeOutCirc:function(e,t,i,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+i},easeInOutCirc:function(e,t,i,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,r){var a=1.70158,o=0,s=n;if(0==t)return i;if(1==(t/=r))return i+n;if(o||(o=.3*r),s<Math.abs(n)){s=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-a)*Math.PI/o))+i},easeOutElastic:function(e,t,i,n,r){var a=1.70158,o=0,s=n;if(0==t)return i;if(1==(t/=r))return i+n;if(o||(o=.3*r),s<Math.abs(n)){s=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*r-a)*Math.PI/o)+n+i},easeInOutElastic:function(e,t,i,n,r){var a=1.70158,o=0,s=n;if(0==t)return i;if(2==(t/=r/2))return i+n;if(o||(o=.3*r*1.5),s<Math.abs(n)){s=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/s);return 1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-a)*Math.PI/o)+i:s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*r-a)*Math.PI/o)*.5+n+i},easeInBack:function(e,t,i,n,r,a){return void 0==a&&(a=1.70158),n*(t/=r)*t*((a+1)*t-a)+i},easeOutBack:function(e,t,i,n,r,a){return void 0==a&&(a=1.70158),n*((t=t/r-1)*t*((a+1)*t+a)+1)+i},easeInOutBack:function(e,t,i,n,r,a){return void 0==a&&(a=1.70158),(t/=r/2)<1?n/2*t*t*(((a*=1.525)+1)*t-a)+i:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+i},easeInBounce:function(e,t,i,n,r){return n-jQuery.easing.easeOutBounce(e,r-t,0,n,r)+i},easeOutBounce:function(e,t,i,n,r){return(t/=r)<1/2.75?7.5625*n*t*t+i:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,r){return r/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,n,r)+i:.5*jQuery.easing.easeOutBounce(e,2*t-r,0,n,r)+.5*n+i}}),!function(e,t){function i(e,t,i){var n=_[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=u(),n=i._rgba=[];return t=t.toLowerCase(),h(l,function(e,r){var a,o=r.re.exec(t),s=o&&r.parse(o),l=r.space||"rgba";return s?(a=i[l](s),i[d[l].cache]=a[d[l].cache],n=i._rgba=a._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),i):a[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},_={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=u.support={},c=e("<p>")[0],h=e.each;c.style.cssText="background-color:rgba(1,1,1,.5)",g.rgba=c.style.backgroundColor.indexOf("rgba")>-1,h(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,o,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(o),o=t);var _=this,g=e.type(r),c=this._rgba=[];return o!==t&&(r=[r,o,s,l],g="array"),"string"===g?this.parse(n(r)||a._default):"array"===g?(h(d.rgba.props,function(e,t){c[t.idx]=i(r[t.idx],t)}),this):"object"===g?(r instanceof u?h(d,function(e,t){r[t.cache]&&(_[t.cache]=r[t.cache].slice())}):h(d,function(t,n){var a=n.cache;h(n.props,function(e,t){if(!_[a]&&n.to){if("alpha"===e||null==r[e])return;_[a]=n.to(_._rgba)}_[a][t.idx]=i(r[e],t,!0)}),_[a]&&e.inArray(null,_[a].slice(0,3))<0&&(_[a][3]=1,n.from&&(_._rgba=n.from(_[a])))}),this):void 0},is:function(e){var t=u(e),i=!0,n=this;return h(d,function(e,r){var a,o=t[r.cache];return o&&(a=n[r.cache]||r.to&&r.to(n._rgba)||[],h(r.props,function(e,t){return null!=o[t.idx]?i=o[t.idx]===a[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return h(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=u(e),r=n._space(),a=d[r],o=0===this.alpha()?u("transparent"):this,s=o[a.cache]||a.to(o._rgba),l=s.slice();return n=n[a.cache],h(a.props,function(e,r){var a=r.idx,o=s[a],u=n[a],d=_[r.type]||{};null!==u&&(null===o?l[a]=u:(d.mod&&(u-o>d.mod/2?o+=d.mod:o-u>d.mod/2&&(o-=d.mod)),l[a]=i((u-o)*t+o,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(t)._rgba;return u(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(n,r,a),l=Math.min(n,r,a),u=s-l,d=s+l,_=.5*d;return t=l===s?0:n===s?60*(r-a)/u+360:r===s?60*(a-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=_?u/d:u/(2-d),[Math.round(t)%360,i,_,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],a=e[3],o=.5>=n?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(255*r(s,o,t+1/3)),Math.round(255*r(s,o,t)),Math.round(255*r(s,o,t-1/3)),a]},h(d,function(n,r){var a=r.props,o=r.cache,l=r.to,d=r.from;u.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var r,s=e.type(n),_="array"===s||"object"===s?n:arguments,g=this[o].slice();return h(a,function(e,t){var n=_["object"===s?e:t.idx];null==n&&(n=g[t.idx]),g[t.idx]=i(n,t)}),d?(r=u(d(g)),r[o]=g,r):u(g)},h(a,function(t,i){u.fn[t]||(u.fn[t]=function(r){var a,o=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),d=u[i.idx];return"undefined"===o?d:("function"===o&&(r=r.call(this,d),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(a=s.exec(r),a&&(r=d+parseFloat(a[2])*("+"===a[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),u.hook=function(t){var i=t.split(" ");h(i,function(t,i){e.cssHooks[i]={set:function(t,r){var a,o,s="";if("transparent"!==r&&("string"!==e.type(r)||(a=n(r)))){if(r=u(a||r),!g.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&o&&o.style;)try{s=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=u(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),!function(e){function t(){var i=this===document?e(this):e(this).contents();i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find("iframe").load(t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is("iframe")?e(this).contents().find("body"):e(this),n=i.offset();t=n.left<=e.mlp.x&&n.left+i.outerWidth()>e.mlp.x&&n.top<=e.mlp.y&&n.top+i.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugFunctions=new UGFunctions;jQuery.fn.unitegallery=function(e){var t=jQuery(this),i="#"+t.attr("id");if(!e)var e={};var n=new UniteGalleryMain;n.run(i,e);var r=new UG_API(n);return r};var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;